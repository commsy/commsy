{% extends 'CommsyBundle:Base:room.html.twig' %}

{% block content %}
    <div class="uk-grid">

        <div class="uk-width-medium-3-3">

            <div class="uk-panel uk-panel-box uk-panel-box-primary">
                
                <div class="uk-panel-teaser cs-panel-teaser-primary">
                    <div class="uk-flex uk-flex-middle uk-flex-space-between">
                        <div class="uk-text-large">
                            {{ 'Search Results (%totalHits% Hits)'| trans({'%totalHits%': totalHits}, 'search') }}
                        </div>
                    </div>
                </div>

                <div class="feed">
                    <ul id="search-feed" class="uk-comment-list" data-uk-observe>
                        {% include 'CommsyBundle:search:feed.html.twig' %}
                    </ul>

                    {# setup "load more" if we do not show all results yet #}
                    {% if totalHits != results|length %}
                        <div class="feed-load-more" data-uk-scrollspy="{repeat: true, cls:'cs-toggle-class'}" data-feed='{"url": "{{ app.request.baseURL }}/room/{{ roomId }}/search/results/more/{{ query }}/", "target": "#search-feed"}'>
                            <i class="uk-icon-refresh uk-icon-spin uk-icon-medium"></i>
                            <div class="cs-toggle-class"></div>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>

        {# sidebar #}
{#         <div class="uk-width-medium-1-3 cs-right-column">
            <div class="uk-panel uk-panel-box uk-panel-box-primary">
                <div class="uk-panel-teaser cs-panel-teaser-primary">
                    <div class="uk-clearfix">
                        <div class="uk-float-right">
                            <a href="#" class="button-toggle uk-button-mini uk-button-secondary" data-uk-toggle="{target: '#list-filter', animation: 'uk-animation-fade'}">
                                <i class="uk-icon-chevron-up"></i>
                            </a>
                        </div>
                        <div class="uk-text-large uk-float-left">
                            {{ 'Restrict Results'|trans({}, 'search')}}
                        </div>
                    </div>
                </div>
                <div id="list-filter">
                    {{ form_start(filterForm) }}
                    {{ form_widget(filterForm) }}
                    {{ form_end(filterForm) }}
                </div>
            </div>
        </div> #}
    </div>
{% endblock %}