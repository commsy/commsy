{% extends 'CommsyBundle:Base:detail.html.twig' %}

{% set item = group %}

{% block content_left_column %}
    <div class="uk-panel">
        <h3 class="uk-panel-title">{{ group.title }}</h3>
    </div>
    <div class="uk-margin">
        {{ group.description|raw }}
    </div>
    {% if group.isGroupRoomActivated %}
        <div class="uk-margin">
            {{ 'grouproom'|trans({})|capitalize }}:
            <a href="{{ path('commsy_room_home', {'roomId': group.groupRoomItem.itemId}) }}">
                {{group.groupRoomItem.title}}
            </a>
        </div>
    {% endif %}
    <div data-uk-grid="{gutter: 20}">
        {% for member in members %}
            <div class="uk-width-medium-1-2 uk-width-large-1-3">
                <div class="uk-panel">
                    <a href="{{ path('commsy_user_detail', {'roomId': app.request.attributes.get('roomId'), 'itemId': member.itemId}) }}">
                        <img class="uk-thumbnail uk-border-circle" style="height:60px; width:60px;" src="{{ app.request.baseURL }}/room/{{ app.request.attributes.get('roomId') }}/user/{{ member.itemID }}/image" alt="">
                    </a>
                    <span class="uk-text-middle">
                        <a href="{{ path('commsy_user_detail', {'roomId': app.request.attributes.get('roomId'), 'itemId': member.itemId}) }}">
                            {{ member.fullname }}
                        </a>
                    </span>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
        
{% block content_right_column %}
    <div class="uk-panel uk-panel-box uk-panel-box-primary">
        <div class="uk-panel-teaser panel-teaser-primary">
            <div class="uk-clearfix">
                <div class="uk-float-right">
                    <a href="#" class="button-toggle uk-button-mini uk-button-primary" data-uk-toggle="{target: '#user-main', animation: 'uk-animation-fade'}">
                        <i class="uk-icon-chevron-up"></i>
                    </a>
                </div>
                <div class="uk-float-left">
                    {{ 'Info'|trans({}, "room") }}
                </div>
            </div>
        </div>
        
        <div id="user-main" class="uk-overflow-container">
            <div class="">
                {{ macros.lastModified(group) }} 
            </div>
        </div>
    </div>

    {{ render(controller(
        'CommsyBundle:Link:show',
        { 'roomId': app.request.attributes.get('roomId'), 'itemId': group.itemId }
    ))}}
{% endblock %}