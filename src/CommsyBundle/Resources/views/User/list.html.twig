{% extends 'CommsyBundle:Base:list.html.twig' %}
{% form_theme form 'CommsyBundle:Form:uikit_horizontal_layout.html.twig' %}

{% block feed %}
    <div id="user-feed" class="uk-grid">
        {{ render(controller(
            'CommsyBundle:User:feed', {
                'roomId': roomId,
                'userFilter': app.request.query.get('user_filter')
            }
        )) }}
    </div>
    <div class="feed-load-more-grid" data-uk-scrollspy="{repeat: true, cls:'cs-toggle-class'}" data-feed='{"url": "{{ app.request.baseURL }}/room/{{ roomId }}/user/feed/", "target": "#user-feed"}'>
        <i class="uk-icon-refresh uk-icon-spin uk-icon-medium"></i>
        <div class="cs-toggle-class"></div>
    </div>
{% endblock %}

{% block editbox %}
    <div class="uk-button-dropdown uk-button-primary" data-uk-dropdown="" aria-haspopup="true" aria-expanded="false">
        <button class="uk-button uk-button-mini">{{ 'selected entries'|trans({},'rubric')|capitalize }} <i class="uk-icon-caret-down"></i></button>
        <div id="cs-entry-navigation" class="uk-padding-remove uk-dropdown uk-dropdown-small">
            <ul class="uk-nav uk-nav-dropdown uk-list-striped uk-padding-remove uk-margin-remove uk-text-left">
                <li>
                    <a href="{{ path('commsy_user_printlist', {'roomId': roomId,'user_filter':app.request.query.get('user_filter')}) }}" target="_blank" id="print">
                        <i class="uk-icon-small uk-icon-print uk-icon-justify uk-visible-large"></i> {{ 'print'|trans({})|capitalize }}
                    </a>
                </li>
                <li>
                    <a href="#" class="commsy-select-action" data-uk-button data-commsy-list-action='{"target":".feed", "actionUrl": "{{ path('commsy_user_feedaction', {'roomId': roomId}) }}", "action": "markread"}'>
                        <i class="uk-icon-justify uk-icon-small uk-icon-check-square-o uk-visible-large"></i> {{ 'mark read'|trans({},'rubric')|capitalize }}
                    </a>
                </li>
            </ul>
            <ul class="uk-nav uk-nav-dropdown cs-list-moderation uk-padding-remove uk-margin-remove uk-text-left">
                <li>
                    <a href="#" class="commsy-select-action" data-uk-button data-commsy-list-action='{"target":".feed", "actionUrl": "{{ path('commsy_user_feedaction', {'roomId': roomId}) }}", "action": "user-delete"}' data-confirm-delete="{{ 'confirm delete'|trans({},'rubric')}}" data-confirm-delete-cancel ="{{'confirm delete cancel'|trans({},'rubric')}}" data-confirm-delete-confirm ="{{'confirm delete confirm'|trans({},'rubric')}}">
                        <i class="uk-icon-justify uk-icon-small uk-icon-times-circle uk-visible-large"></i> {{ 'delete'|trans({},'user') }}
                    </a>
                </li>
                <li>
                    <a href="#" class="commsy-select-action" data-uk-button data-commsy-list-action='{"target":".feed", "actionUrl": "{{ path('commsy_user_feedaction', {'roomId': roomId}) }}", "action": "user-block"}' data-no-selection="{{'no entry selected'|trans({},'item')}}">
                        <i class="uk-icon-justify uk-icon-small uk-icon-ban uk-visible-large"></i> {{ 'block'|trans({},'user') }}
                    </a>
                </li>
                <li>
                    <a href="#" class="commsy-select-action" data-uk-button data-commsy-list-action='{"target":".feed", "actionUrl": "{{ path('commsy_user_feedaction', {'roomId': roomId}) }}", "action": "user-confirm"}' data-no-selection="{{'no entry selected'|trans({},'item')}}">
                        <i class="uk-icon-justify uk-icon-small uk-icon-sign-in uk-visible-large"></i> {{ 'confirm'|trans({},'user') }}
                    </a>
                </li>
                
                <li>
                    <a href="#" class="commsy-select-action" data-uk-button data-commsy-list-action='{"target":".feed", "actionUrl": "{{ path('commsy_user_feedaction', {'roomId': roomId}) }}", "action": "user-status-reading-user"}' data-no-selection="{{'no entry selected'|trans({},'item')}}">
                        <i class="uk-icon-justify uk-icon-small uk-icon-user-secret uk-visible-large"></i> {{ 'status'|trans({},'user') }}: {{ 'reading user'|trans({},'user') }}
                    </a>
                </li>
                <li>
                    <a href="#" class="commsy-select-action" data-uk-button data-commsy-list-action='{"target":".feed", "actionUrl": "{{ path('commsy_user_feedaction', {'roomId': roomId}) }}", "action": "user-status-user"}' data-no-selection="{{'no entry selected'|trans({},'item')}}">
                        <i class="uk-icon-justify uk-icon-small uk-icon-user uk-visible-large"></i> {{ 'status'|trans({},'user') }}: {{ 'user'|trans({},'user') }}
                    </a>
                </li>
                <li>
                    <a href="#" class="commsy-select-action" data-uk-button data-commsy-list-action='{"target":".feed", "actionUrl": "{{ path('commsy_user_feedaction', {'roomId': roomId}) }}", "action": "user-status-moderator"}' data-no-selection="{{'no entry selected'|trans({},'item')}}">
                        <i class="uk-icon-justify uk-icon-small uk-icon-wrench uk-visible-large"></i> {{ 'status'|trans({},'user') }}: {{ 'moderator'|trans({},'user') }}
                    </a>
                </li>
                
                <li>
                    <a href="#" class="commsy-select-action" data-uk-button data-commsy-list-action='{"target":".feed", "actionUrl": "{{ path('commsy_user_feedaction', {'roomId': roomId}) }}", "action": "user-contact"}' data-no-selection="{{'no entry selected'|trans({},'item')}}">
                        <i class="uk-icon-justify uk-icon-small uk-icon-edit uk-visible-large"></i> {{ 'contact'|trans({},'user') }}
                    </a>
                </li>
                <li>
                    <a href="#" class="commsy-select-action" data-uk-button data-commsy-list-action='{"target":".feed", "actionUrl": "{{ path('commsy_user_feedaction', {'roomId': roomId}) }}", "action": "user-contact-remove"}' data-no-selection="{{'no entry selected'|trans({},'item')}}">
                        <i class="uk-icon-justify uk-icon-small uk-icon-square-o uk-visible-large"></i> {{ 'contact remove'|trans({},'user') }}
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
{% endblock%}

{% block sortbox %}
        {# sort dropdown #}
        <div class="uk-button-dropdown uk-button-primary" data-uk-dropdown="" aria-haspopup="true" aria-expanded="false">
            <button class="uk-button uk-button-mini cs-button-list">{{ 'list sort'|trans({},'rubric')|capitalize }} <i class="uk-icon-caret-down"></i></button>
            <div id="cs-entry-navigation" class="uk-padding-remove uk-dropdown uk-dropdown-small">
                <ul class="uk-nav uk-nav-dropdown uk-list-striped uk-padding-remove uk-margin-remove uk-text-left">
                    <li><a href="#" id="commsy-sort-name" class="uk-clearfix cs-sort-active "><span class="uk-float-left">{{ 'surname'|trans({},'user') }}</span><span class="uk-float-right"><i id="commsy-sort-name-chevron" class="uk-icon-chevron-up"></i></span></a></li>
                    <li><a href="#" id="commsy-sort-email" class="uk-clearfix"><span class="uk-float-left">{{ 'email'|trans({},'user') }}</span><span class="uk-float-right"><i id="commsy-sort-email-chevron" class=""></i></span></a></li>
                    <li><a href="#" id="commsy-sort-status" class="uk-clearfix"><span class="uk-float-left">{{ 'user status'|trans({},'user') }}</span><span class="uk-float-right"><i id="commsy-sort-status-chevron" class=""></i></span></a></li>
                </ul>
            </div>
        </div>
{% endblock %}
