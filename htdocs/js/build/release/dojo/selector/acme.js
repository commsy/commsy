//>>built
define("dojo/selector/acme",["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(I,k,J,X,v){var K=X.trim,F=J.forEach,L="BackCompat"==v.doc.compatMode,q=!1,w=function(){return!0},G=function(a){for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",b=function(b,c){return K(a.slice(b,c))},c=[],d=-1,f=-1,e=-1,j=-1,o=-1,n=-1,x=-1,B,y="",i="",k,h=0,p=a.length,g=null,l=null,m=function(){if(0<=n)g.id=b(n,h).replace(/\\/g,""),n=-1;if(0<=x){var a=x==h?null:b(x,h);g[0>">~+".indexOf(a)?
"tag":"oper"]=a;x=-1}0<=o&&(g.classes.push(b(o+1,h).replace(/\\/g,"")),o=-1)};y=i,i=a.charAt(h),h<p;h++)if("\\"!=y)if(g||(k=h,g={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return q?this.otag:this.tag}},x=h),B)i==B&&(B=null);else if("'"==i||'"'==i)B=i;else if(0<=d)if("]"==i){l.attr?l.matchFor=b(e||d+1,h):l.attr=b(d+1,h);if((d=l.matchFor)&&('"'==d.charAt(0)||"'"==d.charAt(0)))l.matchFor=d.slice(1,-1);if(l.matchFor)l.matchFor=l.matchFor.replace(/\\/g,"");g.attrs.push(l);
l=null;d=e=-1}else{if("="==i)e=0<="|~^$*".indexOf(y)?y:"",l.type=e+i,l.attr=b(d+1,h-e.length),e=h+1}else if(0<=f){if(")"==i){if(0<=j)l.value=b(f+1,h);j=f=-1}}else if("#"==i)m(),n=h+1;else if("."==i)m(),o=h;else if(":"==i)m(),j=h;else if("["==i)m(),d=h,l={};else if("("==i)0<=j&&(l={name:b(j+1,h),value:null},g.pseudos.push(l)),f=h;else if(" "==i&&y!=i){m();0<=j&&g.pseudos.push({name:b(j+1,h)});g.loops=g.pseudos.length||g.attrs.length||g.classes.length;g.oquery=g.query=b(k,h);g.otag=g.tag=g.oper?null:
g.tag||"*";if(g.tag)g.tag=g.tag.toUpperCase();if(c.length&&c[c.length-1].oper)g.infixOper=c.pop(),g.query=g.infixOper.query+" "+g.query;c.push(g);g=null}return c},r=function(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},s=function(a,b){var c=b||[];a&&c.push(a);return c},C=function(a){return 1==a.nodeType},t=function(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(q?a.getAttribute(b):a.getAttribute(b,
2))||""},M={"*=":function(a,b){return function(c){return 0<=t(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==t(c,a).indexOf(b)}},"$=":function(a,b){return function(c){var c=" "+t(c,a),d=c.lastIndexOf(b);return-1<d&&d==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+t(b,a)+" ").indexOf(c)}},"|=":function(a,b){var c=b+"-";return function(d){d=t(d,a);return d==b||0==d.indexOf(c)}},"=":function(a,b){return function(c){return t(c,a)==b}}},D="undefined"==
typeof v.doc.firstChild.nextElementSibling,z=!D?"nextElementSibling":"nextSibling",Y=!D?"previousElementSibling":"previousSibling",A=D?C:w,N=function(a){for(;a=a[Y];)if(A(a))return!1;return!0},O=function(a){for(;a=a[z];)if(A(a))return!1;return!0},E=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,c=0,d=b.children||b.childNodes,f=a._i||a.getAttribute("_i")||-1,e=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):-1);if(!d)return-1;d=d.length;if(e==d&&0<=f&&0<=e)return f;
k("ie")&&"undefined"!==typeof b.setAttribute?b.setAttribute("_l",d):b._l=d;f=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[z])if(A(b))k("ie")?b.setAttribute("_i",++c):b._i=++c,a===b&&(f=c);return f},Z=function(a){return!(E(a)%2)},$=function(a){return E(a)%2},P={checked:function(){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(){return function(a){return a.disabled}},enabled:function(){return function(a){return!a.disabled}},"first-child":function(){return N},
"last-child":function(){return O},"only-child":function(){return function(a){return N(a)&&O(a)}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return!1}return!0}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var c=G(b)[0],d={el:1};if("*"!=c.tag)d.tag=1;if(!c.classes.length)d.classes=1;var f=m(c,d);return function(a){return!f(a)}},
"nth-child":function(a,b){var c=parseInt;if("odd"==b)return $;if("even"==b)return Z;if(-1!=b.indexOf("n")){var d=b.split("n",2),f=d[0]?"-"==d[0]?-1:c(d[0]):1,e=d[1]?c(d[1]):0,j=0,o=-1;0<f?0>e?e=e%f&&f+e%f:0<e&&(e>=f&&(j=e-e%f),e%=f):0>f&&(f*=-1,0<e&&(o=e,e%=f));if(0<f)return function(a){a=E(a);return a>=j&&(0>o||a<=o)&&a%f==e};b=e}var n=c(b);return function(a){return E(a)==n}}},aa=k("ie")&&(9>k("ie")||k("quirks"))?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return q?
c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},m=function(a,b){if(!a)return w;var b=b||{},c=null;"el"in b||(c=r(c,C));"tag"in b||"*"!=a.tag&&(c=r(c,function(b){return b&&(q?b.tagName:b.tagName.toUpperCase())==a.getTag()}));"classes"in b||F(a.classes,function(a,b){var e=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=r(c,function(a){return e.test(a.className)});c.count=b});"pseudos"in b||F(a.pseudos,function(a){var b=a.name;P[b]&&(c=r(c,P[b](b,a.value)))});
"attrs"in b||F(a.attrs,function(a){var b,e=a.attr;a.type&&M[a.type]?b=M[a.type](e,a.matchFor):e.length&&(b=aa(e));b&&(c=r(c,b))});"id"in b||a.id&&(c=r(c,function(b){return!!b&&b.id==a.id}));c||"default"in b||(c=w);return c},ba=function(a){return function(b,c,d){for(;b=b[z];)if(!D||C(b)){(!d||u(b,d))&&a(b)&&c.push(b);break}return c}},ca=function(a){return function(b,c,d){for(b=b[z];b;){if(A(b)){if(d&&!u(b,d))break;a(b)&&c.push(b)}b=b[z]}return c}},da=function(a){a=a||w;return function(b,c,d){for(var f=
0,e=b.children||b.childNodes;b=e[f++];)A(b)&&(!d||u(b,d))&&a(b,f)&&c.push(b);return c}},Q={},R=function(a){var b=Q[a.query];if(b)return b;var c=a.infixOper,c=c?c.oper:"",d=m(a,{el:1}),f="*"==a.tag,e=v.doc.getElementsByClassName;if(c){e={el:1};if(f)e.tag=1;d=m(a,e);"+"==c?b=ba(d):"~"==c?b=ca(d):">"==c&&(b=da(d))}else if(a.id)d=!a.loops&&f?w:m(a,{el:1,id:1}),b=function(b,c){var e=I.byId(a.id,b.ownerDocument||b);if(e&&d(e)){if(9==b.nodeType)return s(e,c);for(var f=e.parentNode;f&&!(f==b);)f=f.parentNode;
if(f)return s(e,c)}};else if(e&&/\{\s*\[native code\]\s*\}/.test(""+e)&&a.classes.length&&!L)var d=m(a,{el:1,classes:1,id:1}),j=a.classes.join(" "),b=function(a,b,c){for(var b=s(0,b),e,f=0,i=a.getElementsByClassName(j);e=i[f++];)d(e,a)&&u(e,c)&&b.push(e);return b};else!f&&!a.loops?b=function(b,c,d){for(var c=s(0,c),e=0,f=a.getTag(),f=f?b.getElementsByTagName(f):[];b=f[e++];)u(b,d)&&c.push(b);return c}:(d=m(a,{el:1,tag:1,id:1}),b=function(b,c,e){for(var c=s(0,c),f,j=0,i=(f=a.getTag())?b.getElementsByTagName(f):
[];f=i[j++];)d(f,b)&&u(f,e)&&c.push(f);return c});return Q[a.query]=b},S={},T={},U=function(a){var b=G(K(a));if(1==b.length){var c=R(b[0]);return function(a){if(a=c(a,[]))a.nozip=!0;return a}}return function(a){for(var a=s(a),c,e,j=b.length,o,n,k=0;k<j;k++){n=[];c=b[k];e=a.length-1;if(0<e)o={},n.nozip=!0;e=R(c);for(var m=0;c=a[m];m++)e(c,n,o);if(!n.length)break;a=n}return n}},ea=k("ie")?"commentStrip":"nozip",V=!!v.doc.querySelectorAll,fa=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,ga=function(a,b,
c,d){return c?(b?b+" ":"")+c+(d?" "+d:""):a},ha=/([^[]*)([^\]]*])?/g,ia=function(a,b,c){return b.replace(fa,ga)+(c||"")},W=function(a,b){a=a.replace(ha,ia);if(V){var c=T[a];if(c&&!b)return c}if(c=S[a])return c;var c=a.charAt(0),d=-1==a.indexOf(" ");0<=a.indexOf("#")&&d&&(b=!0);if(V&&!b&&-1==">~+".indexOf(c)&&(!k("ie")||-1==a.indexOf(":"))&&!(L&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|=")){var f=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return T[a]=
function(b){try{if(!(9==b.nodeType||d))throw"";var c=b.querySelectorAll(f);c[ea]=!0;return c}catch(e){return W(a,!0)(b)}}}var e=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return S[a]=2>e.length?U(a):function(a){for(var b=0,c=[],d;d=e[b++];)c=c.concat(U(d)(a));return c}},p=0,ja=k("ie")?function(a){return q?a.getAttribute("_uid")||a.setAttribute("_uid",++p)||p:a.uniqueID}:function(a){return a._uid||(a._uid=++p)},u=function(a,b){if(!b)return 1;var c=ja(a);return!b[c]?b[c]=1:0},ka=
function(a){if(a&&a.nozip)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;p++;var c,d;if(k("ie")&&q){var f=p+"";a[0].setAttribute("_zipIdx",f);for(c=1;d=a[c];c++)a[c].getAttribute("_zipIdx")!=f&&b.push(d),d.setAttribute("_zipIdx",f)}else if(k("ie")&&a.commentStrip)try{for(c=1;d=a[c];c++)C(d)&&b.push(d)}catch(e){}else{a[0]&&(a[0]._zipIdx=p);for(c=1;d=a[c];c++)a[c]._zipIdx!=p&&b.push(d),d._zipIdx=p}return b},H=function(a,b){b=b||v.doc;q="div"===(b.ownerDocument||
b).createElement("div").tagName;var c=W(a)(b);return c&&c.nozip?c:ka(c)};H.filter=function(a,b,c){for(var d=[],f=G(b),f=1==f.length&&!/[^\w#\.]/.test(b)?m(f[0]):function(a){return-1!=J.indexOf(H(b,I.byId(c)),a)},e=0,j;j=a[e];e++)f(j)&&d.push(j);return d};return H});