//>>built
define("dojox/css3/transition","dojo/_base/lang,dojo/_base/array,dojo/_base/Deferred,dojo/DeferredList,dojo/on,dojo/_base/sniff".split(","),function(g,f,h,p,m,n){var i="transitionend",e="t",j="translate3d(",k=",0,0)";n("webkit")?(e="WebkitT",i="webkitTransitionEnd"):n("mozilla")&&(e="MozT",j="translateX(",k=")");var d=function(b){g.mixin(this,{startState:{},endState:{},node:null,duration:250,"in":!0,direction:1,autoClear:!0});g.mixin(this,b);if(!this.deferred)this.deferred=new h};g.extend(d,{play:function(){d.groupedPlay([this])},
_applyState:function(b){var c=this.node.style,a;for(a in b)b.hasOwnProperty(a)&&(c[a]=b[a])},initState:function(){this.node.style[e+"ransitionProperty"]="none";this.node.style[e+"ransitionDuration"]="0ms";this._applyState(this.startState)},_beforeStart:function(){if("none"===this.node.style.display)this.node.style.display="";this.beforeStart()},_beforeClear:function(){this.node.style[e+"ransitionProperty"]=null;this.node.style[e+"ransitionDuration"]=null;if(!0!==this["in"])this.node.style.display=
"none";this.beforeClear()},_onAfterEnd:function(){this.deferred.resolve(this.node);this.node.id&&d.playing[this.node.id]===this.deferred&&delete d.playing[this.node.id];this.onAfterEnd()},beforeStart:function(){},beforeClear:function(){},onAfterEnd:function(){},start:function(){this._beforeStart();this._startTime=(new Date).getTime();this._cleared=!1;var b=this;b.node.style[e+"ransitionProperty"]="all";b.node.style[e+"ransitionDuration"]=b.duration+"ms";m.once(b.node,i,function(){b.clear()});this._applyState(this.endState)},
clear:function(){if(!this._cleared)this._cleared=!0,this._beforeClear(),this._removeState(this.endState),this._onAfterEnd()},_removeState:function(b){var c=this.node.style,a;for(a in b)b.hasOwnProperty(a)&&(c[a]=null)}});d.slide=function(b,c){var a=new d(c);a.node=b;var o="0",f="0";a["in"]?o=1===a.direction?"100%":"-100%":f=1===a.direction?"-100%":"100%";a.startState[e+"ransform"]=j+o+k;a.endState[e+"ransform"]=j+f+k;return a};d.fade=function(b,c){var a=new d(c);a.node=b;var e="0",f="0";a["in"]?f=
"1":e="1";g.mixin(a,{startState:{opacity:e},endState:{opacity:f}});return a};d.flip=function(b,c){var a=new d(c);a.node=b;a["in"]?(g.mixin(a,{startState:{opacity:"0"},endState:{opacity:"1"}}),a.startState[e+"ransform"]="scale(0,0.8) skew(0,-30deg)",a.endState[e+"ransform"]="scale(1,1) skew(0,0)"):(g.mixin(a,{startState:{opacity:"1"},endState:{opacity:"0"}}),a.startState[e+"ransform"]="scale(1,1) skew(0,0)",a.endState[e+"ransform"]="scale(0,0.8) skew(0,30deg)");return a};var l=function(b){var c=[];
f.forEach(b,function(a){a.id&&d.playing[a.id]&&c.push(d.playing[a.id])});return new p(c)};d.getWaitingList=l;d.groupedPlay=function(b){var c=f.filter(b,function(a){return a.node}),c=l(c);f.forEach(b,function(a){if(a.node.id)d.playing[a.node.id]=a.deferred});h.when(c,function(){f.forEach(b,function(a){a.initState()});setTimeout(function(){f.forEach(b,function(a){a.start()});m.once(b[b.length-1].node,i,function(){for(var a,c=0;c<b.length-1;c++)0!==b[c].deferred.fired&&(a=(new Date).getTime()-b[c]._startTime,
a>=b[c].duration&&b[c].clear())})},33)})};d.chainedPlay=function(b){var c=f.filter(b,function(a){return a.node}),c=l(c);f.forEach(b,function(a){if(a.node.id)d.playing[a.node.id]=a.deferred});h.when(c,function(){f.forEach(b,function(a){a.initState()});for(var a=1,c=b.length;a<c;a++)b[a-1].deferred.then(g.hitch(b[a],function(){this.start()}));setTimeout(function(){b[0].start()},33)})};d.playing={};return d});