//>>built
define("dojox/app/controllers/Load","dojo/_base/lang,dojo/_base/declare,dojo/on,dojo/Deferred,dojo/when,../Controller,../View".split(","),function(f,h,n,k,g,l,m){return h("dojox.app.controllers.Load",l,{constructor:function(a,b){this.events={load:this.load};this.inherited(arguments)},load:function(a){var b=a.parent||this.app,c=(a.viewId||"").split(","),e=c.shift(),c=c.join(","),b=this.loadChild(b,e,c,a.params||"");a.callback&&g(b,a.callback);return b},createChild:function(a,b,c,e){c=a.id+"_"+b;if(a.children[c])return a.children[c];
b=new m(f.mixin({app:this.app,id:c,name:b,parent:a},{params:e}));a.children[c]=b;return b.start()},loadChild:function(a,b,c,e){if(!a)throw Error("No parent for Child '"+b+"'.");if(!b)var i=a.defaultView?a.defaultView.split(","):"default",b=i.shift(),c=i.join(",");var d=new k,j;try{j=this.createChild(a,b,c,e)}catch(h){return d.reject("load child '"+b+"' error."),d.promise}g(j,f.hitch(this,function(a){if(!c&&a.defaultView)c=a.defaultView;var f=c.split(",");b=f.shift();c=f.join(",");b?(a=this.loadChild(a,
b,c,e),g(a,function(){d.resolve()},function(){d.reject("load child '"+b+"' error.")})):d.resolve()}),function(){d.reject("load child '"+b+"' error.")});return d.promise}})});