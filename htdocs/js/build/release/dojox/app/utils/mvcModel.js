//>>built
define("dojox/app/utils/mvcModel","dojo/_base/lang,dojo/Deferred,dojo/when,dojo/_base/config,dojo/store/DataStore,dojox/mvc/getStateful,dojo/has".split(","),function(h,i,j,o,m,n){return function(f,a,b){var d={},g=new i,e;if(a.store&&a.store.params&&a.store.params.data)e={store:a.store.store,query:a.store.query?a.store.query:{}};else if(a.datastore){var k={};for(b in a.query)"_"!==b.charAt(0)&&(k[b]=a.query[b]);e={store:new m({store:a.datastore.store}),query:k}}else if(a.data){if(a.data&&h.isString(a.data))a.data=
h.getObject(a.data);e={data:a.data,query:{}}}var c=null,f=f[b].type?f[b].type:"dojox/mvc/EditStoreRefListController",l=new i;require([f],function(a){l.resolve(a)});j(l,function(a){c=new a(e);var b;try{c.queryStore?b=c.queryStore(e.query):(c.set(c._refSourceModelProp||c._refModelProp||"model",n(e.data)),b=c)}catch(f){return g.reject("load mvc model error."),g.promise}if(b.then)j(b,h.hitch(this,function(){d=c;g.resolve(d);return d}),function(){loadModelLoaderDeferred.reject("load model error.")});else return d=
c,g.resolve(d),d});return g}});