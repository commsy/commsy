//>>built
define("dojox/treemap/DrillDownUp","dojo/_base/lang,dojo/_base/event,dojo/_base/declare,dojo/dom-geometry,dojo/dom-construct,dojo/dom-style,dojo/_base/fx,dojo/has!touch?dojox/gesture/tap".split(","),function(f,h,l,d,i,e,j,g){return l("dojox.treemap.DrillDownUp",null,{postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"dblclick",this._onDoubleClick);g&&this.connect(this.domNode,g.doubletap,this._onDoubleClick)},_onDoubleClick:function(b){var a=this._getRendererFromTarget(b.target);
if(a.item){var c=a.item;if(this._isLeaf(c)&&(c=a.parentItem,a=this.itemToRenderer[this.getIdentity(c)],null==a))return;this.rootItem==c?this.drillUp(a):this.drillDown(a);h.stop(b)}},drillUp:function(b){var a=b.item;this.domNode.removeChild(b);this.set("rootItem",this._getRenderer(a).parentItem);this.validateRendering();i.place(b,this.domNode);e.set(b,"zIndex",40);var a=d.position(this._getRenderer(a),!0),c=d.getMarginBox(this.domNode);j.animateProperty({node:b,duration:500,properties:{left:{end:a.x-
c.l},top:{end:a.y-c.t},height:{end:a.h},width:{end:a.w}},onAnimate:f.hitch(this,function(){var a=d.getContentBox(b);this._layoutGroupContent(b,a.w,a.h,b.level+1,!1,!0)}),onEnd:f.hitch(this,function(){this.domNode.removeChild(b)})}).play()},drillDown:function(b){var a=d.getMarginBox(this.domNode),c=b.item,g=b.parentNode,k=d.position(b,!0);g.removeChild(b);i.place(b,this.domNode);e.set(b,{left:k.x-a.l+"px",top:k.y-a.t+"px"});var h=e.get(b,"zIndex");e.set(b,"zIndex",40);j.animateProperty({node:b,duration:500,
properties:{left:{end:a.l},top:{end:a.t},height:{end:a.h},width:{end:a.w}},onAnimate:f.hitch(this,function(){var a=d.getContentBox(b);this._layoutGroupContent(b,a.w,a.h,b.level+1,!1)}),onEnd:f.hitch(this,function(){e.set(b,"zIndex",h);this.set("rootItem",c)})}).play()}})});