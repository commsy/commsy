//>>built
define("dojox/mobile/iconUtils","dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff".split(","),function(p,q,r,s,t,u,e,j,k,n){var v=t.getObject("dojox.mobile",!0);return new function(){this.setupSpriteIcon=function(c,d){if(c&&d){var a=p.map(d.split(/[ ,]/),function(a){return a-0}),f=a[0],b=a[1];k.set(c,{clip:"rect("+f+"px "+(a[1]+a[2])+"px "+(a[0]+a[3])+"px "+b+"px)",top:(c.parentNode?k.get(c,
"top"):0)-f+"px",left:-b+"px"});e.add(c,"mblSpriteIcon")}};this.createDomButton=function(c,d,a){if(!this._domButtons)if(n("webkit")){var f=function(a,c){var b,h;if(!a){var d={};h=u.doc.styleSheets;for(b=0;b<h.length;b++)h[b]&&f(h[b],d);return d}d=a.cssRules||[];for(b=0;b<d.length;b++)if(h=d[b],h.href&&h.styleSheet)f(h.styleSheet,c);else if(h.selectorText){var g=h.selectorText.split(/,/);for(h=0;h<g.length;h++){var e=g[h],i=e.split(/>/).length-1;if(e.match(/(mblDomButton\w+)/)&&(e=RegExp.$1,!c[e]||
i>c[e]))c[e]=i}}return c};this._domButtons=f()}else this._domButtons={};var b=c.className,g=a||c;if(b.match(/(mblDomButton\w+)/)&&-1===b.indexOf("/")){var i=RegExp.$1,l=4;b.match(/(mblDomButton\w+_(\d+))/)?l=RegExp.$2-0:void 0!==this._domButtons[i]&&(l=this._domButtons[i]);b=null;n("bb")&&!1!==q.mblBBBoxShadowWorkaround&&(b={style:"-webkit-box-shadow:none"});for(var o=0,m=g;o<l;o++)m=m.firstChild||j.create("div",b,m);a&&(setTimeout(function(){e.remove(c,i)},0),e.add(a,i))}else if(-1!==b.indexOf("."))j.create("img",
{src:b},g);else return null;e.add(g,"mblDomButton");d&&k.set(g,d);return g};this.createIcon=function(c,d,a,f,b,g,i){f=f||"";if(c&&0===c.indexOf("mblDomButton"))a?a.className.match(/(mblDomButton\w+)/)&&e.remove(a,RegExp.$1):a=j.create("div",null,g||b,i),a.title=f,e.add(a,c),this.createDomButton(a);else if(c&&"none"!==c){if(!a||"IMG"!==a.nodeName)a=j.create("img",{alt:f},g||b,i);a.src=(c||"").replace("${theme}",v.currentTheme);this.setupSpriteIcon(a,d);d&&b&&(c=d.split(/[ ,]/),k.set(b,{width:c[2]+
"px",height:c[3]+"px"}),e.add(b,"mblSpriteIconParent"));r.connect(a,"ondragstart",s,"stop")}return a};this.iconWrapper=!1;this.setIcon=function(c,d,a,f,b,g,i){if(!b||!c&&!a)return null;if(c&&"none"!==c){if(!this.iconWrapper&&0!==c.indexOf("mblDomButton")&&!d)a&&"DIV"===a.tagName&&(j.destroy(a),a=null),a=this.createIcon(c,null,a,f,b,g,i),e.add(a,"mblImageIcon");else if(a&&"IMG"===a.tagName&&(j.destroy(a),a=null),a&&j.empty(a),a||(a=j.create("div",null,g||b,i)),this.createIcon(c,d,null,null,a),f)a.title=
f;e.remove(b,"mblNoIcon");return a}j.destroy(a);e.add(b,"mblNoIcon");return null}}});