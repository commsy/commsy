//>>built
define("dojox/dgauges/GaugeBase","dojo/_base/lang,dojo/_base/declare,dojo/dom-geometry,dijit/registry,dijit/_WidgetBase,dojo/_base/html,dojo/_base/event,dojox/gfx,dojox/widget/_Invalidating,./ScaleBase,dojox/gfx/matrix,dojox/gfx/canvas".split(","),function(e,h,f,i,j,k,m,l,d,g){return h("dojox.dgauges.GaugeBase",[j,d],{_elements:null,_scales:null,_elementsIndex:null,_elementsRenderers:null,_gfxGroup:null,_mouseShield:null,_widgetBox:null,_node:null,value:0,font:null,constructor:function(b,c){this.font=
{family:"Helvetica",style:"normal",variant:"small-caps",weight:"bold",size:"10pt",color:"black"};this._elements=[];this._scales=[];this._elementsIndex={};this._elementsRenderers={};this._node=i.byId(c);var a=k.getMarginBox(c);this.surface=l.createSurface(this._node,a.w||1,a.h||1);this._widgetBox=a;this._baseGroup=this.surface.createGroup();this._mouseShield=this._baseGroup.createGroup();this._gfxGroup=this._baseGroup.createGroup()},_setCursor:function(b){if(this._node)this._node.style.cursor=b},_computeBoundingBox:function(b){return b?
b.getBoundingBox():{x:0,y:0,width:0,height:0}},destroy:function(){this.surface.destroy()},resize:function(b,c){var a;switch(arguments.length){case 1:a=e.mixin({},b);f.setMarginBox(this._node,a);break;case 2:a={w:b,h:c},f.setMarginBox(this._node,a)}this._widgetBox=a=f.getMarginBox(this._node);var d=this.surface.getDimensions();return d.width!=a.w||d.height!=a.h?(this.surface.setDimensions(a.w,a.h),this._mouseShield.clear(),this._mouseShield.createRect({x:0,y:0,width:a.w,height:a.h}).setFill([0,0,0,
0]),this.invalidateRendering()):this},addElement:function(b,c){this._elementsIndex[b]&&this._elementsIndex[b]!=c&&this.removeElement(b);if(e.isFunction(c)){var a={};e.mixin(a,new d);a._name=b;a._gfxGroup=this._gfxGroup.createGroup();a.width=0;a.height=0;a._isGFX=!0;a.refreshRendering=function(){a._gfxGroup.clear();return c(a._gfxGroup,a.width,a.height)};this._elements.push(a);this._elementsIndex[b]=a}else c._name=b,c._gfxGroup=this._gfxGroup.createGroup(),c._gauge=this,this._elements.push(c),this._elementsIndex[b]=
c,c instanceof g&&this._scales.push(c);return this.invalidateRendering()},removeElement:function(b){var c=this._elementsIndex[b];c&&(c._gfxGroup.removeShape(),this._elements.splice(this._elements.indexOf(c),1),c instanceof g&&this._scales.splice(this._scales.indexOf(c),1),delete this._elementsIndex[b],delete this._elementsRenderers[b]);this.invalidateRendering();return c},getElement:function(b){return this._elementsIndex[b]},getElementRenderer:function(b){return this._elementsRenderers[b]},onStartEditing:function(){},
onEndEditing:function(){}})});