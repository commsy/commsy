//>>built
define("dojox/form/uploader/plugins/IFrame","dojo/dom-construct,dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/io/iframe,dojox/form/uploader/plugins/HTML5".split(","),function(d,b,f,g,h){b=b("dojox.form.uploader.plugins.IFrame",[],{force:"",postMixInProperties:function(){this.inherited(arguments);if(!this.supports("multiple")||"iframe"==this.force)this.uploadType="iframe",this.upload=this.uploadIFrame},uploadIFrame:function(b){var c,e=!1;this.getForm()?c=this.form:(c=d.place('<form enctype="multipart/form-data" method="post"></form>',
this.domNode),g.forEach(this._inputs,function(a){a.value&&c.appendChild(a)},this),e=!0);var i=this.getUrl();h.send({url:i,form:c,handleAs:"json",content:b,method:"POST",error:f.hitch(this,function(a){e&&d.destroy(c);this.onError(a)}),load:f.hitch(this,function(a){e&&d.destroy(c);if(a.ERROR||a.error)this.onError(a);else this.onComplete(a)})})}});dojox.form.addUploaderPlugin(b);return b});