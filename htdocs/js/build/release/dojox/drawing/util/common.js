//>>built
define("dojox/drawing/util/common",["dojo","dojox/math/round"],function(g,i){var h={},j=0;return{radToDeg:function(a){return 180*a/Math.PI},degToRad:function(a){return a*Math.PI/180},angle:function(a,b){if(b){var b=b/180,c=this.radians(a),e=Math.PI*b,c=i(c/e)*e;return i(this.radToDeg(c))}return this.radToDeg(this.radians(a))},oppAngle:function(a){360<(a+=180)&&(a-=360);return a},radians:function(a){return Math.atan2(a.start.y-a.y,a.x-a.start.x)},length:function(a){return Math.sqrt(Math.pow(a.start.x-
a.x,2)+Math.pow(a.start.y-a.y,2))},lineSub:function(a,b,c,e,d){var f=this.distance(this.argsToObj.apply(this,arguments)),f=f<d?d:f,f=(f-d)/f;return{x:a-(a-c)*f,y:b-(b-e)*f}},argsToObj:function(){var a=arguments;return 4>a.length?a[0]:{start:{x:a[0],y:a[1]},x:a[2],y:a[3]}},distance:function(){var a=this.argsToObj.apply(this,arguments);return Math.abs(Math.sqrt(Math.pow(a.start.x-a.x,2)+Math.pow(a.start.y-a.y,2)))},slope:function(a,b){return!(a.x-b.x)?0:(a.y-b.y)/(a.x-b.x)},pointOnCircle:function(a,
b,c,e){var d=e*Math.PI/180,e=c*Math.cos(d),c=c*Math.sin(d);return{x:a+e,y:b-c}},constrainAngle:function(a,b,c){var e=this.angle(a);if(e>=b&&e<=c)return a;var d=this.length(a);return this.pointOnCircle(a.start.x,a.start.y,d,e>c?c:100>b-e?b:c)},snapAngle:function(a,b){var c=this.radians(a),e=this.length(a),d=Math.PI*b,c=this.radToDeg(Math.round(c/d)*d);return this.pointOnCircle(a.start.x,a.start.y,e,c)},idSetStart:function(a){j=a},uid:function(a){a=a||"shape";h[a]=void 0===h[a]?j:h[a]+1;return a+h[a]},
abbr:function(a){return a.substring(a.lastIndexOf(".")+1).charAt(0).toLowerCase()+a.substring(a.lastIndexOf(".")+2)},mixin:function(){},objects:{},register:function(a){this.objects[a.id]=a},byId:function(a){return this.objects[a]},attr:function(a,b,c,e){if(!a)return!1;try{if(a.shape&&a.util)a=a.shape;if(!c&&"id"==b&&a.target){for(var d=a.target;d&&!g.attr(d,"id");)d=d.parentNode;return d&&g.attr(d,"id")}if(a.rawNode||a.target){var f=Array.prototype.slice.call(arguments);f[0]=a.rawNode||a.target;return g.attr.apply(g,
f)}return g.attr(a,"id")}catch(h){return!1}}}});