//>>built
define("dojox/drawing/plugins/drawing/GreekPalette","dojo,dijit/popup,../../library/greek,dijit/focus,dijit/_Widget,dijit/_TemplatedMixin,dijit/_PaletteMixin,dojo/i18n!dojox/editor/plugins/nls/latinEntities".split(","),function(b,e,h,k,l,m,n,o){var p=b.declare(null,{constructor:function(a){this._alias=a},getValue:function(){return this._alias},fillCell:function(a){a.innerHTML="&"+this._alias+";"}});return b.declare("dojox.drawing.plugins.drawing.GreekPalette",[l,m,n],{postMixInProperties:function(){var a=
0,b;for(b in h)a++;var a=Math.floor(Math.sqrt(a)),g=0,i=[],c=[];for(b in h)g++,c.push(b),0===g%a&&(i.push(c),c=[]);0<c.length&&i.push(c);this._palette=i},show:function(a){b.mixin(a,{popup:this});e.open(a)},onChange:function(a){var b=this._textBlock;e.hide(this);b.insertText(this._pushChangeTo,a);b._dropMode=!1},onCancel:function(){e.hide(this);this._textBlock._dropMode=!1},templateString:'<div class="dojoxEntityPalette">\n\t<table>\n\t\t<tbody>\n\t\t\t<tr>\n\t\t\t\t<td>\n\t\t\t\t\t<table class="dijitPaletteTable">\n\t\t\t\t\t\t<tbody dojoAttachPoint="gridNode"></tbody>\n\t\t\t\t   </table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>\n\t\t\t\t\t<table dojoAttachPoint="previewPane" class="dojoxEntityPalettePreviewTable">\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class="dojoxEntityPalettePreviewDetailEntity">Type: <span class="dojoxEntityPalettePreviewDetail" dojoAttachPoint="previewNode"></span></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</div>',
baseClass:"dojoxEntityPalette",showPreview:!0,dyeClass:p,paletteClass:"editorLatinEntityPalette",cellClass:"dojoxEntityPaletteCell",buildRendering:function(){this.inherited(arguments);this._preparePalette(this._palette,o);var a=b.query(".dojoxEntityPaletteCell",this.gridNode);b.forEach(a,function(a){this.connect(a,"onmouseenter","_onCellMouseEnter")},this)},_onCellMouseEnter:function(a){this.showPreview&&this._displayDetails(a.target)},_onCellClick:function(a){var f="click"==a.type?a.currentTarget:
this._currentFocus,g=this._getDye(f).getValue();this._setCurrent(f);setTimeout(b.hitch(this,function(){k(f);this._setValueAttr(g,!0)}));b.removeClass(f,"dijitPaletteCellHover");b.stopEvent(a)},postCreate:function(){this.inherited(arguments);this.showPreview||b.style(this.previewNode,"display","none");e.moveOffScreen(this)},_setCurrent:function(a){"_currentFocus"in this&&(b.attr(this._currentFocus,"tabIndex","-1"),b.removeClass(this._currentFocus,"dojoxEntityPaletteCellHover"));if(this._currentFocus=
a)b.attr(a,"tabIndex",this.tabIndex),b.addClass(this._currentFocus,"dojoxEntityPaletteCellHover");this.showPreview&&this._displayDetails(a)},_displayDetails:function(a){(a=this._getDye(a))?this.previewNode.innerHTML=a.getValue():(this.previewNode.innerHTML="",this.descNode.innerHTML="")},_preparePalette:function(a,f){this._cells=[];for(var g=this._blankGif,i="string"===typeof this.dyeClass?b.getObject(this.dyeClass):this.dyeClass,c=0;c<a.length;c++)for(var e=b.create("tr",{tabIndex:"-1"},this.gridNode),
j=0;j<a[c].length;j++){var d=a[c][j];if(d){var h=new i(d),d=b.create("td",{"class":this.cellClass,tabIndex:"-1",title:f[d]});h.fillCell(d,g);this.connect(d,"ondijitclick","_onCellClick");this._trackMouseState(d,this.cellClass);b.place(d,e);d.idx=this._cells.length;this._cells.push({node:d,dye:h})}}this._xDim=a[0].length;this._yDim=a.length},_navigateByArrow:function(a){a=this._currentFocus.idx+{38:-this._xDim,40:this._xDim,39:this.isLeftToRight()?1:-1,37:this.isLeftToRight()?-1:1}[a.keyCode];a<this._cells.length&&
-1<a&&this._setCurrent(this._cells[a].node)}})});