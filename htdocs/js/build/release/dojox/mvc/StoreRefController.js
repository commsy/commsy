//>>built
define("dojox/mvc/StoreRefController",["dojo/_base/declare","dojo/_base/lang","dojo/when","./getStateful","./ModelRefController"],function(i,j,f,g,k){return i("dojox.mvc.StoreRefController",k,{store:null,getStatefulOptions:null,_refSourceModelProp:"model",queryStore:function(a,b){if((this.store||{}).query){this._queryObserveHandle&&this._queryObserveHandle.cancel();var c=this,e=this.store.query(a,b),h=f(e,function(a){if(!c._beingDestroyed)return a=g(a,c.getStatefulOptions),c.set(c._refSourceModelProp,
a),a}),d;for(d in e)isNaN(d)&&e.hasOwnProperty(d)&&j.isFunction(e[d])&&(h[d]=e[d]);return h}},getStore:function(a,b){if((this.store||{}).get){this._queryObserveHandle&&this._queryObserveHandle.cancel();var c=this;return f(this.store.get(a,b),function(a){c._beingDestroyed||c.set(c._refSourceModelProp,g(a,c.getStatefulOptions))})}},putStore:function(a,b){return!(this.store||{}).put?void 0:this.store.put(a,b)},addStore:function(a,b){return!(this.store||{}).add?void 0:this.store.add(a,b)},removeStore:function(a,
b){return!(this.store||{}).remove?void 0:this.store.remove(a,b)}})});