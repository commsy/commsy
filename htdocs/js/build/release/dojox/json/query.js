//>>built
define("dojox/json/query",["dojo/_base/kernel","dojo/_base/lang","dojox","dojo/_base/array"],function(l,k,f){k.getObject("json",!0,f);f.json._slice=function(c,b,d,g){for(var a=c.length,h=[],d=d||a,b=0>b?Math.max(0,b+a):Math.min(a,b),d=0>d?Math.max(0,d+a):Math.min(a,d);b<d;b+=g)h.push(c[b]);return h};f.json._find=function(c,b){function d(a){b&&(!0===b&&!(a instanceof Array)?g.push(a):a[b]&&g.push(a[b]));for(var c in a){var i=a[c];b?i&&"object"==typeof i&&d(i):g.push(i)}}var g=[];if(b instanceof Array){if(1==
b.length)return c[b[0]];for(var a=0;a<b.length;a++)g.push(c[b[a]])}else d(c);return g};f.json._distinctFilter=function(c,b){for(var d=[],g={},a=0,h=c.length;a<h;++a){var e=c[a];if(b(e,a,c))if("object"==typeof e&&e){if(!e.__included)e.__included=!0,d.push(e)}else g[e+typeof e]||(g[e+typeof e]=!0,d.push(e))}for(a=0,h=d.length;a<h;++a)d[a]&&delete d[a].__included;return d};return f.json.query=function(c,b){function d(a){e=a+"("+e}function g(a,b,c,d,e,g,f,i){return h[i].match(/[\*\?]/)||"~"==f?"/^"+h[i].substring(1,
h[i].length-1).replace(/\\([btnfr\\"'])|([^\w\*\?])/g,"\\$1$2").replace(/([\*\?])/g,"[\\w\\W]$1")+("~"==f?"$/i":"$/")+".test("+b+")":a}var a=0,h=[],c=c.replace(/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'|[\[\]]/g,function(j){a+="["==j?1:"]"==j?-1:0;return"]"==j&&0<a?"`]":'"'==j.charAt(0)||"'"==j.charAt(0)?"`"+(h.push(j)-1):j}),e="";c.replace(/(\]|\)|push|pop|shift|splice|sort|reverse)\s*\(/,function(){throw Error("Unsafe function call");});for(var c=c.replace(/([^<>=]=)([^=])/g,"$1=$2").replace(/@|(\.\s*)?[a-zA-Z\$_]+(\s*:)?/g,
function(a){return"."==a.charAt(0)?a:"@"==a?"$obj":(a.match(/:|^(\$|Math|true|false|null)$/)?"":"$obj.")+a}).replace(/\.?\.?\[(`\]|[^\]])*\]|\?.*|\.\.([\w\$_]+)|\.\*/g,function(a,b,c){if(b=a.match(/^\.?\.?(\[\s*\^?\?|\^?\?|\[\s*==)(.*?)\]?$/))return c="",a.match(/^\./)&&(d("dojox.json._find"),c=",true)"),d(b[1].match(/\=/)?"dojo.map":b[1].match(/\^/)?"dojox.json._distinctFilter":"dojo.filter"),c+",function($obj){return "+b[2]+"})";if(b=a.match(/^\[\s*([\/\\].*)\]/))return".concat().sort(function(a,b){"+
b[1].replace(/\s*,?\s*([\/\\])\s*([^,\\\/]+)/g,function(a,b,c){return"var av= "+c.replace(/\$obj/,"a")+",bv= "+c.replace(/\$obj/,"b")+";if(av>bv||bv==null){return "+("/"==b?1:-1)+";}\nif(bv>av||av==null){return "+("/"==b?-1:1)+";}\n"})+"return 0;})";if(b=a.match(/^\[(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)\]/))return d("dojox.json._slice"),","+(b[1]||0)+","+(b[2]||0)+","+(b[3]||1)+")";return a.match(/^\.\.|\.\*|\[\s*\*\s*\]|,/)?(d("dojox.json._find"),("."==a.charAt(1)?",'"+c+"'":a.match(/,/)?","+a:"")+")"):
a}).replace(/(\$obj\s*((\.\s*[\w_$]+\s*)|(\[\s*`([0-9]+)\s*`\]))*)(==|~)\s*`([0-9]+)/g,g).replace(/`([0-9]+)\s*(==|~)\s*(\$obj\s*((\.\s*[\w_$]+)|(\[\s*`([0-9]+)\s*`\]))*)/g,function(a,b,c,d,e,f,h,i){return g(a,d,e,f,h,i,c,b)}),c=e+("$"==c.charAt(0)?"":"$")+c.replace(/`([0-9]+|\])/g,function(a,b){return"]"==b?"]":h[b]}),i=eval("1&&function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj=$;return "+c+"}"),f=0;f<arguments.length-1;f++)arguments[f]=arguments[f+1];return b?i.apply(this,arguments):i}});