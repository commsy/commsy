//>>built
define("dojox/html/metrics","dojo/_base/kernel,dojo/_base/lang,dojo/_base/sniff,dojo/ready,dojo/_base/unload,dojo/_base/window,dojo/dom-geometry".split(","),function(j,k,h,o,p,f,q){var b=k.getObject("dojox.html.metrics",!0),l=k.getObject("dojox");b.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0};if(h("ie"))f.doc.documentElement.style.fontSize="100%";var b=f.doc.createElement("div"),d=b.style;
d.position="absolute";d.left="-100px";d.top="0";d.width="30px";d.height="1000em";d.borderWidth="0";d.margin="0";d.padding="0";d.outline="0";d.lineHeight="1";d.overflow="hidden";f.body().appendChild(b);for(var g in a)d.fontSize=g,a[g]=16*Math.round(12*b.offsetHeight/16)/12/1E3;f.body().removeChild(b);return a};var e=null;b.getCachedFontMeasurements=function(a){if(a||!e)e=b.getFontMeasurements();return e};var i=null,r={};b.getTextBox=function(a,b,d){var g,c;if(i)g=i;else{g=i=f.doc.createElement("div");
var h=f.doc.createElement("div");h.appendChild(g);c=h.style;c.overflow="scroll";c.position="absolute";c.left="0px";c.top="-10000px";c.width="1px";c.height="1px";c.visibility="hidden";c.borderWidth="0";c.margin="0";c.padding="0";c.outline="0";f.body().appendChild(h)}g.className="";c=g.style;c.borderWidth="0";c.margin="0";c.padding="0";c.outline="0";if(1<arguments.length&&b)for(var e in b)e in r||(c[e]=b[e]);if(2<arguments.length&&d)g.className=d;g.innerHTML=a;c=q.position(g);c.w=g.parentNode.scrollWidth;
return c};var m=16,n=16;b.getScrollbar=function(){return{w:m,h:n}};b._fontResizeNode=null;b.initOnFontResize=function(){var a=b._fontResizeNode=f.doc.createElement("iframe"),e=a.style;e.position="absolute";e.width="5em";e.height="10em";e.top="-10000px";e.display="none";h("ie")?a.onreadystatechange=function(){if("complete"==a.contentWindow.document.readyState)a.onresize=a.contentWindow.parent[l._scopeName].html.metrics._fontresize}:a.onload=function(){a.contentWindow.onresize=a.contentWindow.parent[l._scopeName].html.metrics._fontresize};
a.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'");f.body().appendChild(a);b.initOnFontResize=function(){}};b.onFontResize=function(){};b._fontresize=function(){b.onFontResize()};p.addOnUnload(function(){var a=b._fontResizeNode;if(a){if(h("ie")&&a.onresize)a.onresize=null;else if(a.contentWindow&&a.contentWindow.onresize)a.contentWindow.onresize=null;b._fontResizeNode=null}});o(function(){try{var a=
f.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";f.body().appendChild(a);m=a.offsetWidth-a.clientWidth;n=a.offsetHeight-a.clientHeight;f.body().removeChild(a);delete a}catch(e){}"fontSizeWatch"in j.config&&j.config.fontSizeWatch&&b.initOnFontResize()});return b});