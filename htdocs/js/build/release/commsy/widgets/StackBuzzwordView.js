//>>built
define("commsy/widgets/StackBuzzwordView","dojo/_base/declare,dijit/_WidgetBase,commsy/base,dijit/_TemplatedMixin,dojo/_base/lang,dojo/dom-construct,dojo/dom-attr,dojo/on,dojo/query,dojo/topic".split(","),function(c,e,f,g,b,d,j,h,k,i){return c([f,e,g],{baseClass:"CommSyWidget",widgetHandler:null,module:null,itemId:null,constructor:function(a){a=a||{};c.safeMixin(this,a)},postCreate:function(){this.inherited(arguments);this.module="buzzwords";this.itemId=this.from_php.ownRoom.id;i.subscribe("newOwnRoomBuzzword",
b.hitch(this,function(){this.updateList()}));this.updateList();require(["commsy/popups/ClickBuzzwordsPopup"],b.hitch(this,function(a){(new a).init(this.buzzwordEditNode,{module:"buzzwords",contextId:this.itemId})}))},updateList:function(){this.AJAXRequest("buzzwords","getBuzzwords",{roomId:this.itemId},b.hitch(this,function(a){d.empty(this.buzzwordListNode);dojo.forEach(a,b.hitch(this,function(a){var c=d.create("a",{className:"keywords_s"+a.class_id,href:"#",innerHTML:a.name+" "},this.buzzwordListNode,
"last");h(c,"click",b.hitch(this,function(){this.onClickBuzzword(a.to_item_id,a.name)}))}))}))},onClickBuzzword:function(a,b){this.widgetHandler.getWidget("widgets/StackStack").addBuzzwordRestriction(a,b)}})});