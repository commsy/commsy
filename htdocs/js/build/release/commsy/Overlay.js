//>>built
define("commsy/Overlay","dojo/_base/declare,commsy/base,dijit/TooltipDialog,dojo/dom-attr,dojo/query,dojo/on,dojo/mouse,dijit/popup,dojo/dom-style,dojo/_base/lang,dojo/NodeList-traverse".split(","),function(e,h,l,j,m,f,g,k,c,d){return e(h,{display:!1,fadeInAnimation:null,fadeOutAnimation:null,constructor:function(b){b=b||{};e.safeMixin(this,b)},setup:function(b){new dojo.NodeList(b);var a=m("div.tooltip:first",b.parentNode.parentNode)[0];if(a){var e="bottom",i=this.getAttrAsObject(a,"data-custom");
if(i&&i.position)e=i.position;c.set(a,"opacity",0);c.set(a,"display","block");c.set(a,"zIndex",-1);"right"===e&&c.set(a,"marginLeft","100px");var h=new l({content:j.get(a,"innerHTML"),className:j.get(a,"class")});this.fadeInAnimation=dojo.animateProperty({node:a,properties:{opacity:1},beforeBegin:d.hitch(this,function(){c.set(a,"zIndex",0);k.open({popup:h,around:b});this.display=!0})});this.fadeOutAnimation=dojo.animateProperty({node:a,properties:{opacity:0},onEnd:d.hitch(this,function(){k.close();
c.set(a,"zIndex",-1);this.display=!1})});f(b,g.enter,d.hitch(this,function(){!1===this.display&&this.fadeInAnimation.play()}));f(b,g.leave,d.hitch(this,function(){!0===this.display&&this.fadeOutAnimation.play()}));f(a,g.enter,d.hitch(this,function(){!0===this.display&&this.fadeOutAnimation.gotoPercent(0)}));f(a,g.leave,d.hitch(this,function(){!0===this.display&&this.fadeOutAnimation.play()}))}}})});