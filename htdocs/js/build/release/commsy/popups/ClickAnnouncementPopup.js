//>>built
define("commsy/popups/ClickAnnouncementPopup","dojo/_base/declare,commsy/ClickPopupHandler,dojo/query,dojo/dom-class,dojo/_base/lang,dojo/dom-construct,dojo/dom-attr,dojo/on".split(","),function(c,d,a,g,e,h,f){return c(d,{constructor:function(){},init:function(b,a){this.triggerNode=b;this.item_id=a.iid;this.module="announcement";this.editType=a.editType;this.features=["editor","tree","upload","netnavigation","calendar"];this.registerPopupClick()},setupSpecific:function(){},onPopupSubmit:function(){dojo.forEach(this.featureHandles.editor,
function(b){b.getInstance();var c=b.getNode().parentNode;f.set(a("input[type='hidden']",c)[0],"value",b.getInstance().getData())});this.submit({tabs:[{id:"rights_tab"},{id:"buzzwords_tab",group:"buzzwords"},{id:"tags_tab",group:"tags"}],nodeLists:[{query:a("div#files_attached",this.contentNode)},{query:a("div#files_finished",this.contentNode),group:"files"},{query:a("input[name='form_data[description]']",this.contentNode)},{query:a("input[name='form_data[dayEnd]']",this.contentNode)},{query:a("input[name='form_data[timeEnd]']",
this.contentNode)},{query:a("input.tabStatus",this.contentNode)},{query:a("input[name='form_data[title]']",this.contentNode)}]})},onPopupSubmitSuccess:function(a){"NEW"===this.item_id?this.featureHandles.netnavigation[0].afterItemCreation(a,e.hitch(this,function(){this.reload(a)})):this.reload(a)}})});