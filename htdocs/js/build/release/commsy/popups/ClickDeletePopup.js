//>>built
define("commsy/popups/ClickDeletePopup","dojo/_base/declare,commsy/ClickPopupHandler,dojo/query,dojo/dom-class,dojo/_base/lang,dojo/dom-construct,dojo/dom-attr,dojo/on,dojo/topic".split(","),function(c,e,f,g,h,i,j,k,d){return c(e,{delType:null,constructor:function(){this.delType=null},init:function(a,b){this.triggerNode=a;this.item_id=b.iid;this.module="delete";this.delType=b.delType;this.delVersion=b.delVersion||{};this.version_id=b.vid;this.contextId=b.contextId;b.portfolioId&&this.setInitData({portfolioId:b.portfolioId});
this.features=[];this.registerPopupClick()},setupSpecific:function(){},onPopupSubmit:function(a){if("recurrence"===a.del)this.delType="date_recurrence";a={delType:this.delType,delVersion:this.delVersion,version_id:this.version_id};this.initData.portfolioId&&c.safeMixin(a,{portfolioId:this.initData.portfolioId});this.submit({tabs:[],nodeLists:[]},a)},onPopupSubmitSuccess:function(a){this.close();this.contextId?this.initData.portfolioId?d.publish("updatePortfolio",{portfolioId:this.initData.portfolioId}):
d.publish("newOwnRoomItem",{}):a.redirectToIndex?location.href="commsy.php?cid="+this.uri_object.cid+"&mod="+this.uri_object.mod+"&fct=index":this.reload(a.item_id)}})});