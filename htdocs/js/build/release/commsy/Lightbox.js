//>>built
require({cache:{"url:commsy/templates/Lightbox.html":'<div class="dojoxLightbox" dojoAttachPoint="containerNode">\n\t<div style="position:relative">\n\t\t<div dojoAttachPoint="imageContainer" class="dojoxLightboxContainer" dojoAttachEvent="onclick: _onImageClick">\n\t\t\t<img dojoAttachPoint="imgNode" src="${imgUrl}" class="dojoxLightboxImage" alt="${title}">\n\t\t\t<div class="dojoxLightboxFooter" dojoAttachPoint="titleNode">\n\t\t\t\t<div class="dojoxLightboxText"><a id="lightboxDownloadLink" href=\'#\'>Download</a></div>\n\t\t\t\t<div class="dijitInline LightboxClose" dojoAttachPoint="closeButtonNode"></div>\n\t\t\t\t<div class="dijitInline LightboxNext" dojoAttachPoint="nextButtonNode"></div>\n\t\t\t\t<div class="dijitInline LightboxPrev" dojoAttachPoint="prevButtonNode"></div>\n\t\t\t\t<div class="dojoxLightboxText" dojoAttachPoint="titleTextNode"><span dojoAttachPoint="textNode">${title}</span><span dojoAttachPoint="groupCount" class="dojoxLightboxGroupText"></span></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'}});
define("commsy/Lightbox","dojo/_base/declare,commsy/base,dojo/dom-attr,dojo/dom-construct,dojo/dom-style,dojo/query,dijit/_TemplatedMixin,dojo/on,dojo/fx,dojo/_base/lang,dojo/_base/array,dojox/image/Lightbox,dojo/text!./templates/Lightbox.html".split(","),function(b,f,d,j,k,g,l,e,m,n,o,h,i){return b(f,{display:!1,anim:null,constructor:function(a){a=a||{};b.safeMixin(this,a)},setup:function(a){var c=dojo.declare("CustomLightboxDialog",[dojox.image.LightboxDialog,dijit._TemplatedMixin],{id:"dojoxLightboxDialog",
templateString:i}),c=new CustomLightboxDialog;dojo.forEach(a,function(a){var c={group:d.get(a,"class").substr(9),title:d.get(a,"title"),href:d.get(a,"href")},b=new h(c);b.startup();e(a,"click",function(a){b.show();a.preventDefault()})});e(g("a#lightboxDownloadLink",c.domNode)[0],"click",function(){url_to_open=d.get(c.imgNode,"src");window.open(url_to_open,"_blank")})}})});