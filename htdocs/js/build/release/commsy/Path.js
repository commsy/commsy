//>>built
define("commsy/Path","dojo/_base/declare,commsy/base,dojo/_base/lang,dojo/query,dojo/dnd/Source,dojo/on,dojo/dom-construct,dojo/dom-attr,dojo/dom-style,dojo/fx,dojo/NodeList-traverse".split(","),function(g,j,h,b,k,m,c,l){return g(j,{cid:null,item_id:null,tpl_path:"",sortable:null,constructor:function(a){a=a||{};g.safeMixin(this,a)},init:function(a,i,f,d){this.cid=a;this.item_id=i;this.tpl_path=d;if(b("#popup_path_tab")[0]){var e=b("ul#popup_path_list")[0];this.sortable=this.sortable||new k(e,{singular:!0});
"NEW"!==this.item_id&&this.AJAXRequest("path","getConnectedEntries",{item_id:i},h.hitch(this,function(a){dojo.forEach(b(">",e),function(a){c.destroy(a)});dojo.forEach(a,h.hitch(this,function(a){var b=c.create("li",{className:"netnavigation"},e,"last");c.create("input",{type:"checkbox",id:"path_"+a.linked_id,checked:a.path_active},b,"last");c.create("img",{src:this.from_php.template.tpl_path+"img/netnavigation/"+a.img},b,"last");c.create("span",{innerHTML:a.text},b,"last")}));this.sortable.insertNodes(!1,
b(">",e))}))}},save:function(a,c){var f=this.item_id;a&&(f=a);var d=[];dojo.forEach(b("ul#popup_path_list input[type='checkbox']:checked"),function(a){id=/path_(.*)/.exec(l.get(a,"id"))[1];d.push(id)});this.AJAXRequest("path","savePath",{item_id:f,linked_ids:d},c)}})});