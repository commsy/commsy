//>>built
define("dijit/popup","dojo/_base/array,dojo/aspect,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,./place,./BackgroundIframe,./main".split(","),function(p,q,r,f,s,t,i,u,j,k,l,h,v,m,n,w,x){function y(){this._popupWrapper&&(i.destroy(this._popupWrapper),delete this._popupWrapper)}f=f(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(a){var c=a._popupWrapper,
b=a.domNode;if(!c)c=i.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},a.ownerDocumentBody),c.appendChild(b),b=b.style,b.display="",b.visibility="",b.position="",b.top="0px",a._popupWrapper=c,q.after(a,"destroy",y,!0);return c},moveOffScreen:function(a){a=this._createWrapper(a);j.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=this._createWrapper(a);j.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,c=a.length-1;0<c&&a[c].parent===
a[c-1].widget;c--);return a[c]},open:function(a){for(var c=this._stack,b=a.popup,d=a.orient||["below","below-alt","above","above-alt"],e=a.parent?a.parent.isLeftToRight():u.isBodyLtr(b.ownerDocument),o=a.around,f=a.around&&a.around.id?a.around.id+"_dropdown":"popup_"+this._idGen++;c.length&&(!a.parent||!s.isDescendant(a.parent.domNode,c[c.length-1].widget.domNode));)this.close(c[c.length-1].widget);var g=this._createWrapper(b);t.set(g,{id:f,style:{zIndex:this._beginZIndex+c.length},"class":"dijitPopup "+
(b.baseClass||b["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:a.parent?a.parent.id:""});if((m("ie")||m("mozilla"))&&!b.bgIframe)b.bgIframe=new w(g);d=o?n.around(g,o,d,e,b.orient?h.hitch(b,"orient"):null):n.at(g,a,"R"==d?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],a.padding);g.style.display="";g.style.visibility="visible";b.domNode.style.visibility="visible";e=[];e.push(v(g,r._keypress,h.hitch(this,function(b){if(b.charOrCode==l.ESCAPE&&a.onCancel)k.stop(b),a.onCancel();else if(b.charOrCode===
l.TAB&&(k.stop(b),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));b.onCancel&&a.onCancel&&e.push(b.on("cancel",a.onCancel));e.push(b.on(b.onExecute?"execute":"change",h.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));c.push({widget:b,parent:a.parent,onExecute:a.onExecute,onCancel:a.onCancel,onClose:a.onClose,handlers:e});if(b.onOpen)b.onOpen(d);return d},close:function(a){for(var c=this._stack;a&&p.some(c,function(b){return b.widget==a})||!a&&c.length;){var b=
c.pop(),d=b.widget,e=b.onClose;if(d.onClose)d.onClose();for(var f;f=b.handlers.pop();)f.remove();d&&d.domNode&&this.hide(d);e&&e()}}});return x.popup=new f});