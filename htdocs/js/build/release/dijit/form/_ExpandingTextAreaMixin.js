//>>built
define("dijit/form/_ExpandingTextAreaMixin","dojo/_base/declare,dojo/dom-construct,dojo/has,dojo/_base/lang,dojo/_base/window,../Viewport".split(","),function(g,i,h,j,k,l){h.add("textarea-needs-help-shrinking",function(){var b=k.body(),a=i.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,overflow:"hidden",visibility:"hidden",position:"absolute",border:"0px solid black",padding:"0px"}},b,"last"),c=a.scrollHeight>=a.clientHeight;b.removeChild(a);return c});return g("dijit.form._ExpandingTextAreaMixin",
null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var b=this.textbox;this.connect(b,"onscroll","_resizeLater");this.connect(b,"onresize","_resizeLater");this.connect(b,"onfocus","_resizeLater");this.own(l.on("resize",j.hitch(this,"_resizeLater")));b.style.overflowY="hidden";this._estimateHeight();this._resizeLater()},_onInput:function(b){this.inherited(arguments);this.resize()},_estimateHeight:function(){var b=this.textbox;b.style.height=
"auto";b.rows=(b.value.match(/\n/g)||[]).length+2},_resizeLater:function(){this.defer("resize")},resize:function(){function b(){var b=!1;if(""===a.value)a.value=" ",b=!0;var c=a.scrollHeight;if(b)a.value="";return c}var a=this.textbox;if("hidden"==a.style.overflowY)a.scrollTop=0;if(!this.busyResizing){this.busyResizing=!0;if(b()||a.offsetHeight){var c=a.style.height;if(!/px/.test(c))c=b(),a.rows=1,a.style.height=c+"px";var c=Math.max(Math.max(a.offsetHeight,parseInt(c))-a.clientHeight,0)+b(),d=c+
"px";if(d!=a.style.height)a.rows=1,a.style.height=d;if(h("textarea-needs-help-shrinking")){var e=b(),g=a.style.minHeight,f=4;a.style.minHeight=d;for(a.style.height="auto";0<c;){a.style.minHeight=Math.max(c-f,4)+"px";d=b();e-=d;c-=e;if(e<f)break;e=d;f<<=1}a.style.height=c+"px";a.style.minHeight=g}a.style.overflowY=b()>a.clientHeight?"auto":"hidden"}else this._estimateHeight();this.busyResizing=!1}}})});