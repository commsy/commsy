//>>built
define("ckeditor/_source/plugins/toolbar/plugin",["dijit","dojo","dojox"],function(){(function(){var q=function(){this.toolbars=[];this.focusCommandExecuted=!1};q.prototype.focus=function(){for(var b=0,e;e=this.toolbars[b++];)for(var l=0,c;c=e.items[l++];)if(c.focus){c.focus();return}};var u={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(b){if(b.toolbox)b.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){b.toolbox.focus()},100):b.toolbox.focus()}};CKEDITOR.plugins.add("toolbar",
{requires:["button"],init:function(b){var e,l=function(c,f){var a,k="rtl"==b.lang.dir,d=b.config.toolbarGroupCycling,d=void 0===d||d;switch(f){case 9:case CKEDITOR.SHIFT+9:for(;!a||!a.items.length;)if(a=9==f?(a?a.next:c.toolbar.next)||b.toolbox.toolbars[0]:(a?a.previous:c.toolbar.previous)||b.toolbox.toolbars[b.toolbox.toolbars.length-1],a.items.length)for(c=a.items[e?a.items.length-1:0];c&&!c.focus;)(c=e?c.previous:c.next)||(a=0);c&&c.focus();return!1;case k?37:39:case 40:a=c;do a=a.next,!a&&d&&
(a=c.toolbar.items[0]);while(a&&!a.focus);a?a.focus():l(c,9);return!1;case k?39:37:case 38:a=c;do a=a.previous,!a&&d&&(a=c.toolbar.items[c.toolbar.items.length-1]);while(a&&!a.focus);a?a.focus():(e=1,l(c,CKEDITOR.SHIFT+9),e=0);return!1;case 27:return b.focus(),!1;case 13:case 32:return c.execute(),!1}return!0};b.on("themeSpace",function(c){if(c.data.space==b.config.toolbarLocation){b.toolbox=new q;var f=CKEDITOR.tools.getNextId(),a=['<div class="cke_toolbox" role="group" aria-labelledby="',f,'" onmousedown="return false;"'],
k=!1!==b.config.toolbarStartupExpanded,d;a.push(k?">":' style="display:none">');a.push('<span id="',f,'" class="cke_voice_label">',b.lang.toolbars,"</span>");for(var f=b.toolbox.toolbars,e=b.config.toolbar instanceof Array?b.config.toolbar:b.config["toolbar_"+b.config.toolbar],n=0;n<e.length;n++){var g,i=0,m,j=e[n],o;if(j)if(d&&(a.push("</div>"),d=0),"/"===j)a.push('<div class="cke_break"></div>');else{o=j.items||j;for(var p=0;p<o.length;p++){var h,r;if(h=b.ui.create(o[p])){r=!1!==h.canGroup;if(!i&&
(g=CKEDITOR.tools.getNextId(),i={id:g,items:[]},m=j.name&&(b.lang.toolbarGroups[j.name]||j.name),a.push('<span id="',g,'" class="cke_toolbar"',m?' aria-labelledby="'+g+'_label"':"",' role="toolbar">'),m&&a.push('<span id="',g,'_label" class="cke_voice_label">',m,"</span>"),a.push('<span class="cke_toolbar_start"></span>'),g=f.push(i)-1,0<g))i.previous=f[g-1],i.previous.next=i;r?d||(a.push('<span class="cke_toolgroup" role="presentation">'),d=1):d&&(a.push("</span>"),d=0);h=h.render(b,a);g=i.items.push(h)-
1;if(0<g)h.previous=i.items[g-1],h.previous.next=h;h.toolbar=i;h.onkey=l;h.onfocus=function(){b.toolbox.focusCommandExecuted||b.focus()}}}d&&(a.push("</span>"),d=0);i&&a.push('<span class="cke_toolbar_end"></span></span>')}}a.push("</div>");if(b.config.toolbarCanCollapse){var s=CKEDITOR.tools.addFunction(function(){b.execCommand("toolbarCollapse")});b.on("destroy",function(){CKEDITOR.tools.removeFunction(s)});var t=CKEDITOR.tools.getNextId();b.addCommand("toolbarCollapse",{readOnly:1,exec:function(a){var b=
CKEDITOR.document.getById(t),c=b.getPrevious(),d=a.getThemeSpace("contents"),f=c.getParent(),g=parseInt(d.$.style.height,10),h=f.$.offsetHeight,e=!c.isVisible();e?(c.show(),b.removeClass("cke_toolbox_collapser_min"),b.setAttribute("title",a.lang.toolbarCollapse)):(c.hide(),b.addClass("cke_toolbox_collapser_min"),b.setAttribute("title",a.lang.toolbarExpand));b.getFirst().setText(e?"\u25b2":"\u25c0");d.setStyle("height",g-(f.$.offsetHeight-h)+"px");a.fire("resize")},modes:{wysiwyg:1,source:1}});a.push('<a title="'+
(k?b.lang.toolbarCollapse:b.lang.toolbarExpand)+'" id="'+t+'" tabIndex="-1" class="cke_toolbox_collapser');k||a.push(" cke_toolbox_collapser_min");a.push('" onclick="CKEDITOR.tools.callFunction('+s+')">',"<span>&#9650;</span>","</a>")}c.data.html+=a.join("")}});b.on("destroy",function(){var b,f=0,a,e,d;for(b=this.toolbox.toolbars;f<b.length;f++){e=b[f].items;for(a=0;a<e.length;a++)d=e[a],d.clickFn&&CKEDITOR.tools.removeFunction(d.clickFn),d.keyDownFn&&CKEDITOR.tools.removeFunction(d.keyDownFn)}});
b.addCommand("toolbarFocus",u);b.ui.add("-",CKEDITOR.UI_SEPARATOR,{});b.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(b,e){e.push('<span class="cke_separator" role="separator"></span>');return{}}}}})}})})();CKEDITOR.UI_SEPARATOR="separator";CKEDITOR.config.toolbarLocation="top";CKEDITOR.config.toolbar_Basic=["Bold,Italic,-,NumberedList,BulletedList,-,Link,Unlink,-,About".split(",")];CKEDITOR.config.toolbar_Full=[{name:"document",items:"Source,-,Save,NewPage,DocProps,Preview,Print,-,Templates".split(",")},
{name:"clipboard",items:"Cut,Copy,Paste,PasteText,PasteFromWord,-,Undo,Redo".split(",")},{name:"editing",items:"Find,Replace,-,SelectAll,-,SpellChecker,Scayt".split(",")},{name:"forms",items:"Form,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField".split(",")},"/",{name:"basicstyles",items:"Bold,Italic,Underline,Strike,Subscript,Superscript,-,RemoveFormat".split(",")},{name:"paragraph",items:"NumberedList,BulletedList,-,Outdent,Indent,-,Blockquote,CreateDiv,-,JustifyLeft,JustifyCenter,JustifyRight,JustifyBlock,-,BidiLtr,BidiRtl".split(",")},
{name:"links",items:["Link","Unlink","Anchor"]},{name:"insert",items:"Image,Flash,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe".split(",")},"/",{name:"styles",items:["Styles","Format","Font","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["Maximize","ShowBlocks","-","About"]}];CKEDITOR.config.toolbar="Full";CKEDITOR.config.toolbarCanCollapse=!0});