//>>built
define("ckeditor/_source/plugins/sourcearea/plugin",["dijit","dojo","dojox"],function(){CKEDITOR.plugins.add("sourcearea",{requires:["editingblock"],init:function(a){var e=CKEDITOR.plugins.sourcearea,g=CKEDITOR.document.getWindow();a.on("editingBlockReady",function(){var b,d;a.addMode("source",{load:function(c,e){CKEDITOR.env.ie&&8>CKEDITOR.env.version&&c.setStyle("position","relative");a.textarea=b=new CKEDITOR.dom.element("textarea");b.setAttributes({dir:"ltr",tabIndex:CKEDITOR.env.webkit?-1:a.tabIndex,
role:"textbox","aria-label":a.lang.editorTitle.replace("%1",a.name)});b.addClass("cke_source");b.addClass("cke_enable_context_menu");a.readOnly&&b.setAttribute("readOnly","readonly");var f={width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"};CKEDITOR.env.ie&&(d=function(){b.hide();b.setStyle("height",c.$.clientHeight+"px");b.setStyle("width",c.$.clientWidth+"px");b.show()},a.on("resize",d),g.on("resize",d),setTimeout(d,0));c.setHtml("");c.append(b);
b.setStyles(f);a.fire("ariaWidget",b);b.on("blur",function(){a.focusManager.blur()});b.on("focus",function(){a.focusManager.focus()});a.mayBeDirty=!0;this.loadData(e);(f=a.keystrokeHandler)&&f.attach(b);setTimeout(function(){a.mode="source";a.fire("mode",{previousMode:a._.previousMode})},CKEDITOR.env.gecko||CKEDITOR.env.webkit?100:0)},loadData:function(c){b.setValue(c);a.fire("dataReady")},getData:function(){return b.getValue()},getSnapshotData:function(){return b.getValue()},unload:function(c){b.clearCustomData();
a.textarea=b=null;d&&(a.removeListener("resize",d),g.removeListener("resize",d));CKEDITOR.env.ie&&8>CKEDITOR.env.version&&c.removeStyle("position")},focus:function(){b.focus()}})});a.on("readOnly",function(){"source"==a.mode&&(a.readOnly?a.textarea.setAttribute("readOnly","readonly"):a.textarea.removeAttribute("readOnly"))});a.addCommand("source",e.commands.source);a.ui.addButton&&a.ui.addButton("Source",{label:a.lang.source,command:"source"});a.on("mode",function(){a.getCommand("source").setState("source"==
a.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)})}});CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(a){"wysiwyg"==a.mode&&a.fire("saveSnapshot");a.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED);a.setMode("source"==a.mode?"wysiwyg":"source")},canUndo:!1}}}});