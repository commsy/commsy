//>>built
define("ckeditor/_source/plugins/adobeair/plugin",["dijit","dojo","dojox"],function(){(function(){function g(a){for(var a=a.getElementsByTag("*"),c=a.count(),b,d=0;d<c;d++)b=a.getItem(d),function(a){for(var b=0;b<f.length;b++)(function(b){var c=a.getAttribute("on"+b);a.hasAttribute("on"+b)&&(a.removeAttribute("on"+b),a.on(b,function(b){var d=/(return\s*)?CKEDITOR\.tools\.callFunction\(([^)]+)\)/.exec(c),j=d&&d[1],e=d&&d[2].split(","),d=/return false;/.test(c);if(e){for(var g=e.length,f,h=0;h<g;h++){e[h]=
f=CKEDITOR.tools.trim(e[h]);var i=f.match(/^(["'])([^"']*?)\1$/);if(i)e[h]=i[2];else if(f.match(/\d+/))e[h]=parseInt(f,10);else switch(f){case "this":e[h]=a.$;break;case "event":e[h]=b.data.$;break;case "null":e[h]=null}}e=CKEDITOR.tools.callFunction.apply(window,e);j&&!1===e&&(d=1)}d&&b.data.preventDefault()}))})(f[b])}(b)}var f="click,keydown,mousedown,keypress,mouseover,mouseout".split(",");CKEDITOR.plugins.add("adobeair",{init:function(a){CKEDITOR.env.air&&(a.addCss("body { padding: 8px }"),a.on("uiReady",
function(){g(a.container);if(a.sharedSpaces)for(var c in a.sharedSpaces)g(a.sharedSpaces[c]);a.on("elementsPathUpdate",function(a){g(a.data.space)})}),a.on("contentDom",function(){a.document.on("click",function(a){a.data.preventDefault(!0)})}))}});CKEDITOR.ui.on("ready",function(a){a=a.data;if(a._.panel){var c=a._.panel._.panel,b;(function(){c.isLoaded?(b=c._.holder,g(b)):setTimeout(arguments.callee,30)})()}else a instanceof CKEDITOR.dialog&&g(a._.element)})})();CKEDITOR.dom.document.prototype.write=
CKEDITOR.tools.override(CKEDITOR.dom.document.prototype.write,function(g){function f(a,c,b,d){c=a.append(c);(b=CKEDITOR.htmlParser.fragment.fromHtml(b).children[0].attributes)&&c.setAttributes(b);d&&c.append(a.getDocument().createText(d))}return function(a,c){if(this.getBody()){var b=this,d=this.getHead(),a=a.replace(/(<style[^>]*>)([\s\S]*?)<\/style>/gi,function(a,b,c){f(d,"style",b,c);return""}),a=a.replace(/<base\b[^>]*\/>/i,function(a){f(d,"base",a);return""}),a=a.replace(/<title>([\s\S]*)<\/title>/i,
function(a,d){b.$.title=d;return""}),a=a.replace(/<head>([\s\S]*)<\/head>/i,function(a){var c=new CKEDITOR.dom.element("div",b);c.setHtml(a);c.moveChildren(d);return""});a.replace(/(<body[^>]*>)([\s\S]*)(?=$|<\/body>)/i,function(a,c,d){b.getBody().setHtml(d);(a=CKEDITOR.htmlParser.fragment.fromHtml(c).children[0].attributes)&&b.getBody().setAttributes(a)})}else g.apply(this,arguments)}})});