//>>built
define("ckeditor/_source/plugins/pagebreak/plugin",["dijit","dojo","dojox"],function(){CKEDITOR.plugins.add("pagebreak",{init:function(b){b.addCommand("pagebreak",CKEDITOR.plugins.pagebreakCmd);b.ui.addButton("PageBreak",{label:b.lang.pagebreak,command:"pagebreak"});var c=["{","background: url("+CKEDITOR.getUrl(this.path+"images/pagebreak.gif")+") no-repeat center center;","clear: both;width:100%; _width:99.9%;border-top: #999999 1px dotted;border-bottom: #999999 1px dotted;padding:0;height: 5px;cursor: default;}"].join("").replace(/;/g,
" !important;");b.addCss("div.cke_pagebreak"+c);CKEDITOR.env.opera&&b.on("contentDom",function(){b.document.on("click",function(a){a=a.data.getTarget();a.is("div")&&a.hasClass("cke_pagebreak")&&b.getSelection().selectElement(a)})})},afterInit:function(b){var c=b.lang.pagebreakAlt,a=b.dataProcessor,b=a&&a.dataFilter;(a=a&&a.htmlFilter)&&a.addRules({attributes:{"class":function(b,a){var c=b.replace("cke_pagebreak","");if(c!=b){var d=CKEDITOR.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>');
a.children.length=0;a.add(d);d=a.attributes;delete d["aria-label"];delete d.contenteditable;delete d.title}return c}}},5);b&&b.addRules({elements:{div:function(b){var a=b.attributes,f=a&&a.style,d=f&&1==b.children.length&&b.children[0];if((d=d&&"span"==d.name&&d.attributes.style)&&/page-break-after\s*:\s*always/i.test(f)&&/display\s*:\s*none/i.test(d))a.contenteditable="false",a["class"]="cke_pagebreak",a["data-cke-display-name"]="pagebreak",a["aria-label"]=c,a.title=c,b.children.length=0}}})},requires:["fakeobjects"]});
CKEDITOR.plugins.pagebreakCmd={exec:function(b){var c=b.lang.pagebreakAlt,c=CKEDITOR.dom.element.createFromHtml('<div style="page-break-after: always;"contenteditable="false" title="'+c+'" aria-label="'+c+'" data-cke-display-name="pagebreak" class="cke_pagebreak"></div>',b.document),a=b.getSelection().getRanges(!0);b.fire("saveSnapshot");for(var e,g=a.length-1;0<=g;g--)if(e=a[g],g<a.length-1&&(c=c.clone(!0)),e.splitBlock("p"),e.insertNode(c),g==a.length-1){var f=c.getNext();e.moveToPosition(c,CKEDITOR.POSITION_AFTER_END);
if(!f||f.type==CKEDITOR.NODE_ELEMENT&&!f.isEditable())e.fixBlock(!0,b.config.enterMode==CKEDITOR.ENTER_DIV?"div":"p");e.select()}b.fire("saveSnapshot")}}});