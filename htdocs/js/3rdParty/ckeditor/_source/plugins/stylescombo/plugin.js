//>>built
define("ckeditor/_source/plugins/stylescombo/plugin",["dijit","dojo","dojox"],function(){(function(){function m(a,j){var k=a.type,e=j.type;return k==e?0:k==CKEDITOR.STYLE_OBJECT?-1:e==CKEDITOR.STYLE_OBJECT?1:e==CKEDITOR.STYLE_BLOCK?1:-1}CKEDITOR.plugins.add("stylescombo",{requires:["richcombo","styles"],init:function(a){function j(b){a.getStylesSet(function(c){if(!i.length){for(var f,a,g=0,e=c.length;g<e;g++)f=c[g],a=f.name,f=h[a]=new CKEDITOR.style(f),f._name=a,f._.enterMode=k.enterMode,i.push(f);
i.sort(m)}b&&b()})}var k=a.config,e=a.lang.stylesCombo,h={},i=[],d;a.ui.addRichCombo("Styles",{label:e.label,title:e.panelTitle,className:"cke_styles",panel:{css:a.skin.editor.css.concat(k.contentsCss),multiSelect:!0,attributes:{"aria-label":e.panelTitle}},init:function(){d=this;j(function(){var b,c,a,l,g,h;for(g=0,h=i.length;g<h;g++)b=i[g],c=b._name,l=b.type,l!=a&&(d.startGroup(e["panelTitle"+l]),a=l),d.add(c,b.type==CKEDITOR.STYLE_OBJECT?c:b.buildPreview(),c);d.commit()})},onClick:function(b){a.focus();
a.fire("saveSnapshot");var b=h[b],c=a.getSelection(),c=new CKEDITOR.dom.elementPath(c.getStartElement());b[b.checkActive(c)?"remove":"apply"](a.document);a.fire("saveSnapshot")},onRender:function(){a.on("selectionChange",function(b){for(var a=this.getValue(),b=b.data.path.elements,f=0,e=b.length,g;f<e;f++){g=b[f];for(var d in h)if(h[d].checkElementRemovable(g,!0)){d!=a&&this.setValue(d);return}}this.setValue("")},this)},onOpen:function(){(CKEDITOR.env.ie||CKEDITOR.env.webkit)&&a.focus();var b=a.getSelection(),
c=b.getSelectedElement(),b=new CKEDITOR.dom.elementPath(c||b.getStartElement()),c=[0,0,0,0];this.showAll();this.unmarkAll();for(var f in h){var d=h[f],g=d.type;d.checkActive(b)?this.mark(f):g==CKEDITOR.STYLE_OBJECT&&!d.checkApplicable(b)&&(this.hideItem(f),c[g]--);c[g]++}c[CKEDITOR.STYLE_BLOCK]||this.hideGroup(e["panelTitle"+CKEDITOR.STYLE_BLOCK]);c[CKEDITOR.STYLE_INLINE]||this.hideGroup(e["panelTitle"+CKEDITOR.STYLE_INLINE]);c[CKEDITOR.STYLE_OBJECT]||this.hideGroup(e["panelTitle"+CKEDITOR.STYLE_OBJECT])},
reset:function(){if(d)delete d._.panel,delete d._.list,d._.committed=0,d._.items={},d._.state=CKEDITOR.TRISTATE_OFF;h={};i=[];j()}});a.on("instanceReady",function(){j()})}})})()});