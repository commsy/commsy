//>>built
define("ckeditor/_source/plugins/button/plugin",["dijit","dojo","dojox"],function(){CKEDITOR.plugins.add("button",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON="button";CKEDITOR.ui.button=function(a){CKEDITOR.tools.extend(this,a,{title:a.label,className:a.className||a.command&&"cke_button_"+a.command||"",click:a.click||function(b){b.execCommand(a.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(a){return new CKEDITOR.ui.button(a)}};
(function(){CKEDITOR.ui.button.prototype={render:function(a,b){var d=CKEDITOR.env,g=this._.id=CKEDITOR.tools.getNextId(),f="",e=this.command,i;this._.editor=a;var c={id:g,button:this,editor:a,focus:function(){CKEDITOR.document.getById(g).focus()},execute:function(){CKEDITOR.env.ie&&7>CKEDITOR.env.version?CKEDITOR.tools.setTimeout(function(){this.button.click(a)},0,this):this.button.click(a)}},k=CKEDITOR.tools.addFunction(function(a){if(c.onkey)return a=new CKEDITOR.dom.event(a),!1!==c.onkey(c,a.getKeystroke())}),
l=CKEDITOR.tools.addFunction(function(a){var b;c.onfocus&&(b=!1!==c.onfocus(c,new CKEDITOR.dom.event(a)));CKEDITOR.env.gecko&&10900>CKEDITOR.env.version&&a.preventBubble();return b});c.clickFn=i=CKEDITOR.tools.addFunction(c.execute,c);if(this.modes){var h={},j=function(){var b=a.mode;b&&(b=this.modes[b]?void 0!=h[b]?h[b]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,this.setState(a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:b))};a.on("beforeModeUnload",function(){if(a.mode&&this._.state!=
CKEDITOR.TRISTATE_DISABLED)h[a.mode]=this._.state},this);a.on("mode",j,this);!this.readOnly&&a.on("readOnly",j,this)}else if(e&&(e=a.getCommand(e)))e.on("state",function(){this.setState(e.state)},this),f+="cke_"+(e.state==CKEDITOR.TRISTATE_ON?"on":e.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");e||(f+="cke_off");this.className&&(f+=" "+this.className);b.push('<span class="cke_button'+(this.icon&&-1==this.icon.indexOf(".png")?" cke_noalphafix":"")+'">','<a id="',g,'" class="',f,'"',d.gecko&&
10900<=d.version&&!d.hc?"":'" href="javascript:void(\''+(this.title||"").replace("'","")+"')\"",' title="',this.title,'" tabindex="-1" hidefocus="true" role="button" aria-labelledby="'+g+'_label"'+(this.hasArrow?' aria-haspopup="true"':""));(d.opera||d.gecko&&d.mac)&&b.push(' onkeypress="return false;"');d.gecko&&b.push(' onblur="this.style.cssText = this.style.cssText;"');b.push(' onkeydown="return CKEDITOR.tools.callFunction(',k,', event);" onfocus="return CKEDITOR.tools.callFunction(',l,', event);" '+
(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction(',i,', this); return false;"><span class="cke_icon"');this.icon&&(d=-16*(this.iconOffset||0),b.push(' style="background-image:url(',CKEDITOR.getUrl(this.icon),");background-position:0 "+d+'px;"'));b.push('>&nbsp;</span><span id="',g,'_label" class="cke_label">',this.label,"</span>");this.hasArrow&&b.push('<span class="cke_buttonarrow">'+(CKEDITOR.env.hc?"&#9660;":"&nbsp;")+"</span>");b.push("</a>","</span>");
if(this.onRender)this.onRender();return c},setState:function(a){if(this._.state==a)return!1;this._.state=a;var b=CKEDITOR.document.getById(this._.id);return b?(b.setState(a),a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute("aria-disabled",!0):b.removeAttribute("aria-disabled"),a==CKEDITOR.TRISTATE_ON?b.setAttribute("aria-pressed",!0):b.removeAttribute("aria-pressed"),!0):!1}}})();CKEDITOR.ui.prototype.addButton=function(a,b){this.add(a,CKEDITOR.UI_BUTTON,b)}});