//>>built
define("ckeditor/_source/plugins/editingblock/plugin",["dijit","dojo","dojox"],function(){(function(){var c;CKEDITOR.plugins.add("editingblock",{init:function(a){a.config.editingBlock&&(a.on("themeSpace",function(a){"contents"==a.data.space&&(a.data.html+="<br>")}),a.on("themeLoaded",function(){a.fireOnce("editingBlockReady")}),a.on("uiReady",function(){a.setMode(a.config.startupMode)}),a.on("afterSetData",function(){if(!c){var b=function(){c=!0;a.getMode().loadData(a.getData());c=!1};if(a.mode)b();
else a.on("mode",function(){a.mode&&(b(),a.removeListener("mode",arguments.callee))})}}),a.on("beforeGetData",function(){!c&&a.mode&&(c=!0,a.setData(a.getMode().getData(),null,1),c=!1)}),a.on("getSnapshot",function(b){if(a.mode)b.data=a.getMode().getSnapshotData()}),a.on("loadSnapshot",function(b){a.mode&&a.getMode().loadSnapshotData(b.data)}),a.on("mode",function(b){b.removeListener();CKEDITOR.env.webkit&&a.container.on("focus",function(){a.focus()});a.config.startupFocus&&a.focus();setTimeout(function(){a.fireOnce("instanceReady");
CKEDITOR.fire("instanceReady",null,a)},0)}),a.on("destroy",function(){this.mode&&this._.modes[this.mode].unload(this.getThemeSpace("contents"))}))}});CKEDITOR.editor.prototype.mode="";CKEDITOR.editor.prototype.addMode=function(a,b){b.name=a;(this._.modes||(this._.modes={}))[a]=b};CKEDITOR.editor.prototype.setMode=function(a){this.fire("beforeSetMode",{newMode:a});var b,c=this.getThemeSpace("contents"),e=this.checkDirty();if(this.mode){if(a==this.mode)return;this._.previousMode=this.mode;this.fire("beforeModeUnload");
var d=this.getMode();b=d.getData();d.unload(c);this.mode=""}c.setHtml("");d=this.getMode(a);if(!d)throw'[CKEDITOR.editor.setMode] Unknown mode "'+a+'".';if(!e)this.on("mode",function(){this.resetDirty();this.removeListener("mode",arguments.callee)});d.load(c,"string"!=typeof b?this.getData():b)};CKEDITOR.editor.prototype.getMode=function(a){return this._.modes&&this._.modes[a||this.mode]};CKEDITOR.editor.prototype.focus=function(){this.forceNextSelectionCheck();var a=this.getMode();a&&a.focus()}})();
CKEDITOR.config.startupMode="wysiwyg";CKEDITOR.config.editingBlock=!0});