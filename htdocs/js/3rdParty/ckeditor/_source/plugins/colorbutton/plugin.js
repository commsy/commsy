//>>built
define("ckeditor/_source/plugins/colorbutton/plugin",["dijit","dojo","dojox"],function(){CKEDITOR.plugins.add("colorbutton",{requires:["panelbutton","floatpanel","styles"],init:function(c){function m(j,h,d){var f=CKEDITOR.tools.getNextId()+"_colorBox";c.ui.add(j,CKEDITOR.UI_PANELBUTTON,{label:d,title:d,className:"cke_button_"+j.toLowerCase(),modes:{wysiwyg:1},panel:{css:c.skin.editor.css,attributes:{role:"listbox","aria-label":g.panelTitle}},onBlock:function(a,b){b.autoSize=!0;b.element.addClass("cke_colorblock");
b.element.setHtml(o(a,h,f));b.element.getDocument().getBody().setStyle("overflow","hidden");CKEDITOR.ui.fire("ready",this);var e=b.keys,d="rtl"==c.lang.dir;e[d?37:39]="next";e[40]="next";e[9]="next";e[d?39:37]="prev";e[38]="prev";e[CKEDITOR.SHIFT+9]="prev";e[32]="click"},onOpen:function(){var a=c.getSelection(),a=a&&a.getStartElement(),a=new CKEDITOR.dom.elementPath(a),b,a=a.block||a.blockLimit||c.document.getBody();do b=a&&a.getComputedStyle("back"==h?"background-color":"color")||"transparent";while("back"==
h&&"transparent"==b&&a&&(a=a.getParent()));if(!b||"transparent"==b)b="#ffffff";this._.panel._.iframe.getFrameDocument().getById(f).setStyle("background-color",b)}})}function o(j,h,d){var f=[],a=i.colorButton_colors.split(","),b=CKEDITOR.tools.addFunction(function(a,b){if("?"==a){var e=arguments.callee,d=function(a){this.removeListener("ok",d);this.removeListener("cancel",d);"ok"==a.name&&e(this.getContentElement("picker","selectedColor").getValue(),b)};c.openDialog("colordialog",function(){this.on("ok",
d);this.on("cancel",d)})}else{c.focus();j.hide(!1);c.fire("saveSnapshot");(new CKEDITOR.style(i["colorButton_"+b+"Style"],{color:"inherit"})).remove(c.document);if(a){var f=i["colorButton_"+b+"Style"];f.childRule="back"==b?function(a){return n(a)}:function(a){return!(a.is("a")||a.getElementsByTag("a").count())||n(a)};(new CKEDITOR.style(f,{color:a})).apply(c.document)}c.fire("saveSnapshot")}});f.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',g.auto,'" onclick="CKEDITOR.tools.callFunction(',
b,",null,'",h,"');return false;\" href=\"javascript:void('",g.auto,'\')" role="option"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" id="',d,'"></span></td><td colspan=7 align=center>',g.auto,'</td></tr></table></a><table role="presentation" cellspacing=0 cellpadding=0 width="100%">');for(d=0;d<a.length;d++){0===d%8&&f.push("</tr><tr>");var e=a[d].split("/"),k=e[0],l=e[1]||k;e[1]||(k="#"+k.replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3"));e=c.lang.colors[l]||
l;f.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',e,'" onclick="CKEDITOR.tools.callFunction(',b,",'",k,"','",h,"'); return false;\" href=\"javascript:void('",e,'\')" role="option"><span class="cke_colorbox" style="background-color:#',l,'"></span></a></td>')}(void 0===i.colorButton_enableMore||i.colorButton_enableMore)&&f.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',g.more,'" onclick="CKEDITOR.tools.callFunction(',
b,",'?','",h,"');return false;\" href=\"javascript:void('",g.more,"')\"",' role="option">',g.more,"</a></td>");f.push("</tr></table>");return f.join("")}function n(c){return"false"==c.getAttribute("contentEditable")||c.getAttribute("data-nostyle")}var i=c.config,g=c.lang.colorButton;CKEDITOR.env.hc||(m("TextColor","fore",g.textColorTitle),m("BGColor","back",g.bgColorTitle))}});CKEDITOR.config.colorButton_colors="000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF";
CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]};CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}}});