//>>built
define("ckeditor/_source/core/dom/range",["dijit","dojo","dojox"],function(){CKEDITOR.dom.range=function(q){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null;this.collapsed=!0;this.document=q};(function(){function q(a){var b=!1,c=CKEDITOR.dom.walker.bookmark(!0),e=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/;return function(f){if(c(f))return!0;if(f.type==CKEDITOR.NODE_TEXT)if(CKEDITOR.env.ie&&e.test(f.getText())&&!b&&(!a||!f.getNext()))b=!0;else{if(f.hasAscendant("pre")||CKEDITOR.tools.trim(f.getText()).length)return!1}else if(f.type==
CKEDITOR.NODE_ELEMENT&&!w[f.getName()])if(!CKEDITOR.env.ie&&f.is("br")&&!b&&(!a||!f.getNext()))b=!0;else return!1;return!0}}function x(a){return function(b){return!a&&y(b)||(b.type==CKEDITOR.NODE_TEXT?!CKEDITOR.tools.trim(b.getText())||!!b.getParent().data("cke-bookmark"):b.getName()in CKEDITOR.dtd.$removeEmpty)}}function v(a){return!z(a)&&!A(a)}var s=function(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset},u=function(a,b,c,e){a.optimizeBookmark();
var f=a.startContainer,i=a.endContainer,d=a.startOffset,g=a.endOffset,l,n;i.type==CKEDITOR.NODE_TEXT?i=i.split(g):0<i.getChildCount()&&(g>=i.getChildCount()?(i=i.append(a.document.createText("")),n=!0):i=i.getChild(g));f.type==CKEDITOR.NODE_TEXT?(f.split(d),f.equals(i)&&(i=f.getNext())):d?d>=f.getChildCount()?(f=f.append(a.document.createText("")),l=!0):f=f.getChild(d).getPrevious():(f=f.getFirst().insertBeforeMe(a.document.createText("")),l=!0);var d=f.getParents(),g=i.getParents(),h,j,p;for(h=0;h<
d.length&&!(j=d[h],p=g[h],!j.equals(p));h++);for(var m=c,k,o,r,t=h;t<d.length;t++){k=d[t];m&&!k.equals(f)&&(o=m.append(k.clone()));for(k=k.getNext();k&&!k.equals(g[t])&&!k.equals(i);){r=k.getNext();2==b?m.append(k.clone(!0)):(k.remove(),1==b&&m.append(k));k=r}m&&(m=o)}m=c;for(c=h;c<g.length;c++){k=g[c];0<b&&!k.equals(i)&&(o=m.append(k.clone()));if(!d[c]||k.$.parentNode!=d[c].$.parentNode)for(k=k.getPrevious();k&&!k.equals(d[c])&&!k.equals(f);){r=k.getPrevious();2==b?m.$.insertBefore(k.$.cloneNode(!0),
m.$.firstChild):(k.remove(),1==b&&m.$.insertBefore(k.$,m.$.firstChild));k=r}m&&(m=o)}if(2==b)j=a.startContainer,j.type==CKEDITOR.NODE_TEXT&&(j.$.data+=j.$.nextSibling.data,j.$.parentNode.removeChild(j.$.nextSibling)),a=a.endContainer,a.type==CKEDITOR.NODE_TEXT&&a.$.nextSibling&&(a.$.data+=a.$.nextSibling.data,a.$.parentNode.removeChild(a.$.nextSibling));else{if(j&&p&&(f.$.parentNode!=j.$.parentNode||i.$.parentNode!=p.$.parentNode))b=p.getIndex(),l&&p.$.parentNode==f.$.parentNode&&b--,e&&j.type==CKEDITOR.NODE_ELEMENT?
(e=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',a.document),e.insertAfter(j),j.mergeSiblings(!1),a.moveToBookmark({startNode:e})):a.setStart(p.getParent(),b);a.collapse(!0)}l&&f.remove();n&&i.$.parentNode&&i.remove()},w={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},y=CKEDITOR.dom.walker.bogus(),z=new CKEDITOR.dom.walker.whitespaces,
A=new CKEDITOR.dom.walker.bookmark;CKEDITOR.dom.range.prototype={clone:function(){var a=new CKEDITOR.dom.range(this.document);a.startContainer=this.startContainer;a.startOffset=this.startOffset;a.endContainer=this.endContainer;a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){a?(this.endContainer=this.startContainer,this.endOffset=this.startOffset):(this.startContainer=this.endContainer,this.startOffset=this.endOffset);this.collapsed=!0},cloneContents:function(){var a=
new CKEDITOR.dom.documentFragment(this.document);this.collapsed||u(this,2,a);return a},deleteContents:function(a){this.collapsed||u(this,0,null,a)},extractContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||u(this,1,b,a);return b},createBookmark:function(a){var b,c,e,f,i=this.collapsed;b=this.document.createElement("span");b.data("cke-bookmark",1);b.setStyle("display","none");b.setHtml("&nbsp;");a&&(e="cke_bm_"+CKEDITOR.tools.getNextNumber(),b.setAttribute("id",
e+(i?"C":"S")));i||(c=b.clone(),c.setHtml("&nbsp;"),a&&c.setAttribute("id",e+"E"),f=this.clone(),f.collapse(),f.insertNode(c));f=this.clone();f.collapse(!0);f.insertNode(b);c?(this.setStartAfter(b),this.setEndBefore(c)):this.moveToPosition(b,CKEDITOR.POSITION_AFTER_END);return{startNode:a?e+(i?"C":"S"):b,endNode:a?e+"E":c,serializable:a,collapsed:i}},createBookmark2:function(a){var b=this.startContainer,c=this.endContainer,e=this.startOffset,f=this.endOffset,i=this.collapsed,d,g;if(!b||!c)return{start:0,
end:0};if(a){if(b.type==CKEDITOR.NODE_ELEMENT){if((d=b.getChild(e))&&d.type==CKEDITOR.NODE_TEXT&&0<e&&d.getPrevious().type==CKEDITOR.NODE_TEXT)b=d,e=0;d&&d.type==CKEDITOR.NODE_ELEMENT&&(e=d.getIndex(1))}for(;b.type==CKEDITOR.NODE_TEXT&&(g=b.getPrevious())&&g.type==CKEDITOR.NODE_TEXT;)b=g,e+=g.getLength();if(!i){if(c.type==CKEDITOR.NODE_ELEMENT){if((d=c.getChild(f))&&d.type==CKEDITOR.NODE_TEXT&&0<f&&d.getPrevious().type==CKEDITOR.NODE_TEXT)c=d,f=0;d&&d.type==CKEDITOR.NODE_ELEMENT&&(f=d.getIndex(1))}for(;c.type==
CKEDITOR.NODE_TEXT&&(g=c.getPrevious())&&g.type==CKEDITOR.NODE_TEXT;)c=g,f+=g.getLength()}}return{start:b.getAddress(a),end:i?null:c.getAddress(a),startOffset:e,endOffset:f,normalized:a,collapsed:i,is2:!0}},moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),c=a.startOffset,e=a.end&&this.document.getByAddress(a.end,a.normalized),a=a.endOffset;this.setStart(b,c);e?this.setEnd(e,a):this.collapse(!0)}else b=(c=a.serializable)?this.document.getById(a.startNode):
a.startNode,a=c?this.document.getById(a.endNode):a.endNode,this.setStartBefore(b),b.remove(),a?(this.setEndBefore(a),a.remove()):this.collapse(!0)},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,c=this.startOffset,e=this.endOffset,f;if(a.type==CKEDITOR.NODE_ELEMENT)if(f=a.getChildCount(),f>c)a=a.getChild(c);else if(1>f)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=a.getNextSourceNode()||a}if(b.type==CKEDITOR.NODE_ELEMENT)if(f=
b.getChildCount(),f>e)b=b.getChild(e).getPreviousSourceNode(!0);else if(1>f)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var c=this.startContainer,e=this.endContainer,c=c.equals(e)?a&&c.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?c.getChild(this.startOffset):c:c.getCommonAncestor(e);return b&&!c.is?c.getParent():
c},optimize:function(){var a=this.startContainer,b=this.startOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&a.is("span")&&a.data("cke-bookmark")&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);b&&b.is&&b.is("span")&&b.data("cke-bookmark")&&
this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},trim:function(a,b){var c=this.startContainer,e=this.startOffset,f=this.collapsed;if((!a||f)&&c&&c.type==CKEDITOR.NODE_TEXT){if(e)if(e>=c.getLength())e=c.getIndex()+1,c=c.getParent();else{var i=c.split(e),e=c.getIndex()+1,c=c.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(i,this.endOffset-this.startOffset):c.equals(this.endContainer)&&(this.endOffset+=1)}else e=c.getIndex(),c=c.getParent();this.setStart(c,e);if(f){this.collapse(!0);
return}}c=this.endContainer;e=this.endOffset;!b&&!f&&c&&c.type==CKEDITOR.NODE_TEXT&&(e?(e>=c.getLength()||c.split(e),e=c.getIndex()+1):e=c.getIndex(),c=c.getParent(),this.setEnd(c,e))},enlarge:function(a,b){switch(a){case CKEDITOR.ENLARGE_ELEMENT:if(this.collapsed)break;var c=this.getCommonAncestor(),e=this.document.getBody(),f,i,d,g,l,n=!1,h,j;h=this.startContainer;j=this.startOffset;if(h.type==CKEDITOR.NODE_TEXT){if(j&&(h=!CKEDITOR.tools.trim(h.substring(0,j)).length&&h,n=!!h),h&&!(g=h.getPrevious()))d=
h.getParent()}else j&&(g=h.getChild(j-1)||h.getLast()),g||(d=h);for(;d||g;){if(d&&!g){!l&&d.equals(c)&&(l=!0);if(!e.contains(d))break;if(!n||"inline"!=d.getComputedStyle("display"))n=!1,l?f=d:this.setStartBefore(d);g=d.getPrevious()}for(;g;)if(h=!1,g.type==CKEDITOR.NODE_COMMENT)g=g.getPrevious();else{if(g.type==CKEDITOR.NODE_TEXT)j=g.getText(),/[^\s\ufeff]/.test(j)&&(g=null),h=/[\s\ufeff]$/.test(j);else if((0<g.$.offsetWidth||b&&g.is("br"))&&!g.data("cke-bookmark"))if(n&&CKEDITOR.dtd.$removeEmpty[g.getName()]){j=
g.getText();if(/[^\s\ufeff]/.test(j))g=null;else for(var p=g.$.getElementsByTagName("*"),m=0,k;k=p[m++];)if(!CKEDITOR.dtd.$removeEmpty[k.nodeName.toLowerCase()]){g=null;break}g&&(h=!!j.length)}else g=null;h&&(n?l?f=d:d&&this.setStartBefore(d):n=!0);if(g){h=g.getPrevious();if(!d&&!h){d=g;g=null;break}g=h}else d=null}d&&(d=d.getParent())}h=this.endContainer;j=this.endOffset;d=g=null;l=n=!1;if(h.type==CKEDITOR.NODE_TEXT){if(h=!CKEDITOR.tools.trim(h.substring(j)).length&&h,n=!(h&&h.getLength()),h&&!(g=
h.getNext()))d=h.getParent()}else(g=h.getChild(j))||(d=h);for(;d||g;){if(d&&!g){!l&&d.equals(c)&&(l=!0);if(!e.contains(d))break;if(!n||"inline"!=d.getComputedStyle("display"))n=!1,l?i=d:d&&this.setEndAfter(d);g=d.getNext()}for(;g;){h=!1;if(g.type==CKEDITOR.NODE_TEXT)j=g.getText(),/[^\s\ufeff]/.test(j)&&(g=null),h=/^[\s\ufeff]/.test(j);else if(g.type==CKEDITOR.NODE_ELEMENT){if((0<g.$.offsetWidth||b&&g.is("br"))&&!g.data("cke-bookmark"))if(n&&CKEDITOR.dtd.$removeEmpty[g.getName()]){j=g.getText();if(/[^\s\ufeff]/.test(j))g=
null;else{p=g.$.getElementsByTagName("*");for(m=0;k=p[m++];)if(!CKEDITOR.dtd.$removeEmpty[k.nodeName.toLowerCase()]){g=null;break}}g&&(h=!!j.length)}else g=null}else h=1;h&&n&&(l?i=d:this.setEndAfter(d));if(g){h=g.getNext();if(!d&&!h){d=g;g=null;break}g=h}else d=null}d&&(d=d.getParent())}f&&i&&(c=f.contains(i)?i:f,this.setStartBefore(c),this.setEndAfter(c));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:d=new CKEDITOR.dom.range(this.document);e=this.document.getBody();
d.setStartAt(e,CKEDITOR.POSITION_AFTER_START);d.setEnd(this.startContainer,this.startOffset);d=new CKEDITOR.dom.walker(d);var o,r,t=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),q=function(a){var b=t(a);b||(o=a);return b},c=function(a){var b=q(a);!b&&a.is&&a.is("br")&&(r=a);return b};d.guard=q;d=d.lastBackward();o=o||e;this.setStartAt(o,!o.is("br")&&(!d&&this.checkStartOfBlock()||d&&o.contains(d))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==
CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){d=this.clone();d=new CKEDITOR.dom.walker(d);var s=CKEDITOR.dom.walker.whitespaces(),u=CKEDITOR.dom.walker.bookmark();d.evaluator=function(a){return!s(a)&&!u(a)};if((d=d.previous())&&d.type==CKEDITOR.NODE_ELEMENT&&d.is("br"))break}d=this.clone();d.collapse();d.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);d=new CKEDITOR.dom.walker(d);d.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?c:q;o=null;d=d.lastForward();o=o||e;this.setEndAt(o,!d&&this.checkEndOfBlock()||d&&o.contains(d)?
CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);r&&this.setEndAfter(r)}},shrink:function(a,b){if(!this.collapsed){var a=a||CKEDITOR.SHRINK_TEXT,c=this.clone(),e=this.startContainer,f=this.endContainer,i=this.startOffset,d=this.endOffset,g=1,l=1;e&&e.type==CKEDITOR.NODE_TEXT&&(i?i>=e.getLength()?c.setStartAfter(e):(c.setStartBefore(e),g=0):c.setStartBefore(e));f&&f.type==CKEDITOR.NODE_TEXT&&(d?d>=f.getLength()?c.setEndAfter(f):(c.setEndAfter(f),l=0):c.setEndBefore(f));var c=new CKEDITOR.dom.walker(c),
n=CKEDITOR.dom.walker.bookmark();c.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var h;c.guard=function(b,c){if(n(b))return!0;if(a==CKEDITOR.SHRINK_ELEMENT&&b.type==CKEDITOR.NODE_TEXT||c&&b.equals(h))return!1;!c&&b.type==CKEDITOR.NODE_ELEMENT&&(h=b);return!0};g&&(e=c[a==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(e,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);l&&(c.reset(),(c=c[a==CKEDITOR.SHRINK_ELEMENT?
"lastBackward":"previous"]())&&this.setEndAt(c,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END));return!(!g&&!l)}},insertNode:function(a){this.optimizeBookmark();this.trim(!1,!0);var b=this.startContainer,c=b.getChild(this.startOffset);c?a.insertBefore(c):b.append(a);a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(!0)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a.type==
CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},setStart:function(a,b){a.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[a.getName()]&&(b=a.getIndex(),a=a.getParent());this.startContainer=a;this.startOffset=b;if(!this.endContainer)this.endContainer=a,this.endOffset=b;s(this)},setEnd:function(a,b){a.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[a.getName()]&&(b=a.getIndex()+1,a=a.getParent());this.endContainer=a;this.endOffset=b;if(!this.startContainer)this.startContainer=a,this.startOffset=
b;s(this)},setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(a,b){switch(b){case CKEDITOR.POSITION_AFTER_START:this.setStart(a,0);break;case CKEDITOR.POSITION_BEFORE_END:a.type==CKEDITOR.NODE_TEXT?this.setStart(a,a.getLength()):this.setStart(a,a.getChildCount());
break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(a);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(a)}s(this)},setEndAt:function(a,b){switch(b){case CKEDITOR.POSITION_AFTER_START:this.setEnd(a,0);break;case CKEDITOR.POSITION_BEFORE_END:a.type==CKEDITOR.NODE_TEXT?this.setEnd(a,a.getLength()):this.setEnd(a,a.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(a);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(a)}s(this)},fixBlock:function(a,b){var c=
this.createBookmark(),e=this.document.createElement(b);this.collapse(a);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(e);e.trim();CKEDITOR.env.ie||e.appendBogus();this.insertNode(e);this.moveToBookmark(c);return e},splitBlock:function(a){var b=new CKEDITOR.dom.elementPath(this.startContainer),c=new CKEDITOR.dom.elementPath(this.endContainer),e=b.block,f=c.block,i=null;if(!b.blockLimit.equals(c.blockLimit))return null;if("br"!=a){if(!e)e=this.fixBlock(!0,a),f=(new CKEDITOR.dom.elementPath(this.endContainer)).block;
f||(f=this.fixBlock(!1,a))}a=e&&this.checkStartOfBlock();b=f&&this.checkEndOfBlock();this.deleteContents();e&&e.equals(f)&&(b?(i=new CKEDITOR.dom.elementPath(this.startContainer),this.moveToPosition(f,CKEDITOR.POSITION_AFTER_END),f=null):a?(i=new CKEDITOR.dom.elementPath(this.startContainer),this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e=null):(f=this.splitElement(e),!CKEDITOR.env.ie&&!e.is("ul","ol")&&e.appendBogus()));return{previousBlock:e,nextBlock:f,wasStartOfBlock:a,wasEndOfBlock:b,
elementPath:i}},splitElement:function(a){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var b=this.extractContents(),c=a.clone(!1);b.appendTo(c);c.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return c},checkBoundaryOfElement:function(a,b){var c=b==CKEDITOR.START,e=this.clone();e.collapse(c);e[c?"setStartAt":"setEndAt"](a,c?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=x(c);return e[c?"checkBackward":
"checkForward"]()},checkStartOfBlock:function(){var a=this.startContainer,b=this.startOffset;if(b&&a.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.ltrim(a.substring(0,b)).length)return!1;a=new CKEDITOR.dom.elementPath(this.startContainer);b=this.clone();b.collapse(!0);b.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(b);a.evaluator=q(!0);return a.checkBackward()},checkEndOfBlock:function(){var a=this.endContainer,b=this.endOffset;if(a.type==CKEDITOR.NODE_TEXT&&
CKEDITOR.tools.rtrim(a.substring(b)).length)return!1;a=new CKEDITOR.dom.elementPath(this.endContainer);b=this.clone();b.collapse(!1);b.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);a=new CKEDITOR.dom.walker(b);a.evaluator=q(!1);return a.checkForward()},checkReadOnly:function(){function a(a,c){for(;a;){if(a.type==CKEDITOR.NODE_ELEMENT){if("false"==a.getAttribute("contentEditable")&&!a.data("cke-editable"))return 0;if(a.is("html")||"true"==a.getAttribute("contentEditable")&&(a.contains(c)||
a.equals(c)))break}a=a.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!(a(b,c)&&a(c,b))}}(),moveToElementEditablePosition:function(a,b){var c=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/;if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var e=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.checkEndOfBlock()&&c.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):
this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);e=1;break}a.type==CKEDITOR.NODE_ELEMENT&&(a.isEditable()?(this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),e=1):b&&a.is("br")&&this.checkEndOfBlock()&&this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START));var f=a,i=e,d=void 0;f.type==CKEDITOR.NODE_ELEMENT&&f.isEditable(!1)&&(d=f[b?"getLast":"getFirst"](v));!i&&!d&&(d=f[b?"getPrevious":"getNext"](v));a=d}return!!e},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},
moveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var b=new CKEDITOR.dom.walker(a),c=CKEDITOR.dom.walker.bookmark(!0),e=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return e(a)&&c(a)};a=b.next();b.reset();return a&&a.equals(b.previous())?a:null},getTouchedStartNode:function(){var a=this.startContainer;
return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a}}})();CKEDITOR.POSITION_AFTER_START=1;CKEDITOR.POSITION_BEFORE_END=2;CKEDITOR.POSITION_BEFORE_START=3;CKEDITOR.POSITION_AFTER_END=4;CKEDITOR.ENLARGE_ELEMENT=1;CKEDITOR.ENLARGE_BLOCK_CONTENTS=2;CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3;CKEDITOR.START=1;CKEDITOR.END=2;CKEDITOR.STARTEND=
3;CKEDITOR.SHRINK_ELEMENT=1;CKEDITOR.SHRINK_TEXT=2});