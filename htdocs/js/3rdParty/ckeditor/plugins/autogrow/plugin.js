//>>built
define("ckeditor/plugins/autogrow/plugin",["dijit","dojo","dojox"],function(){(function(){var f=function(c){if(c.window){var a=c.document;new CKEDITOR.dom.element(a.getWindow().$.frameElement);var b=a.getBody(),d=a.getDocumentElement(),g=c.window.getViewPaneSize().height,a="BackCompat"==a.$.compatMode?b:d,b=a.getStyle("overflow-y"),e=a.getDocument(),d=CKEDITOR.dom.element.createFromHtml('<span style="margin:0;padding:0;border:0;clear:both;width:1px;height:1px;display:block;">'+(CKEDITOR.env.webkit?
"&nbsp;":"")+"</span>",e);e[CKEDITOR.env.ie?"getBody":"getDocumentElement"]().append(d);e=d.getDocumentPosition(e).y+d.$.offsetHeight;d.remove();a.setStyle("overflow-y",b);b=e+(c.config.autoGrow_bottomSpace||0);d=c.config.autoGrow_maxHeight||Infinity;b=Math.max(b,void 0!=c.config.autoGrow_minHeight?c.config.autoGrow_minHeight:200);b=Math.min(b,d);if(b!=g)b=c.fire("autoGrow",{currentHeight:g,newHeight:b}).newHeight,c.resize(c.container.getStyle("width"),b,!0);a.$.scrollHeight>a.$.clientHeight&&b<d?
a.setStyle("overflow-y","hidden"):a.removeStyle("overflow-y")}};CKEDITOR.plugins.add("autogrow",{init:function(c){c.addCommand("autogrow",{exec:f,modes:{wysiwyg:1},readOnly:1,canUndo:!1,editorFocus:!1});var a={contentDom:1,key:1,selectionChange:1,insertElement:1,mode:1};c.config.autoGrow_onStartup&&(a.instanceReady=1);for(var b in a)c.on(b,function(a){var b=c.getCommand("maximize");"wysiwyg"==a.editor.mode&&(!b||b.state!=CKEDITOR.TRISTATE_ON)&&setTimeout(function(){f(a.editor);f(a.editor)},100)})}})})()});