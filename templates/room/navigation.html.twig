{# All Rooms #}
{{ render(controller(
    'App\\Controller\\UserController::allRoomsNavbarAction'
))}}

{# room navigation #}
{% if app.request.attributes.has('roomId') %}
<div class="uk-navbar-item" id="room-navigation" data-commsy-room-navigation="{
                        source:'{{ path('app_search_roomnavigation', {'roomId': app.request.attributes.get('roomId') }) }}',
                        minLength: 0,
                        msgNoResults: '{{ 'No results found'|trans({}, 'search') }}'
                    }">
    <a class="uk-text-large">
        {{ 'My rooms'|trans({}, 'room') }}
        <span uk-icon="chevron-down"></span>
    </a>

    <!-- This is the dropdown -->
    <div class="uk-dropdown uk-dropdown-width-2" uk-dropdown="mode: click">
        <div>
            <input class="uk-input uk-margin-bottom uk-width-1-1" type="text" placeholder="{{ 'room search text'|trans({}, "rubric")}}">
            <div class="uk-text-center">{{ 'Top 50 matches'|trans({}, 'search') }}</div>

            <script type="text/autocomplete">
                {%- verbatim -%}
                    <ul class="uk-nav uk-nav-autocomplete uk-autocomplete-results">
                        {{#items && items.length}}
                            {{~items}}
                            <li data-url="{{!$item.url}}"{{#$item.disabled}} class="uk-skip uk-text-bold"{{/end}}>
                                <a>
                                    {{#$item.text == 'project'}}
                                        <i class="uk-margin-small-right uk-icon-angle-double-right"></i>
                                    {{/end}}
                                    {{#$item.text == 'community'}}
                                        <i class="uk-margin-small-right uk-icon-angle-right"></i>
                                    {{/end}}
                                    {{ $item.title }}
                                </a>
                            </li>
                            {{/items}}
                        {{/end}}
                        {{^items.length}}
                            {{#msgNoResults}}<li class="uk-skip"><a>{{msgNoResults}}</a></li>{{/msgNoResults}}
                        {{/end}}
                    </ul>
                {%- endverbatim -%}
            </script>
        </div>

        <div class="loading uk-text-center uk-margin-small-top uk-container-center">
            <i class="uk-icon-spinner uk-icon-small uk-icon-spin"></i>
        </div>

    </div>
</div>

<ul class="uk-navbar-nav">
        <li>
            <img id="room-logo-navbar" src="{{ path('getLogo', {'roomId': app.request.attributes.get('roomId')}) }}">
        </li>
    {% endif %}
</ul>