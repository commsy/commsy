{% macro dashboardAllRooms(roomItem, userMayCreateContext) %}
    {% component 'v3:card' with { title: 'Rooms'|trans({}, 'room') } %}
        {% block content %}
            <form action="{{ path('app_room_listall', {'roomId': roomItem.itemId}) }}" class="uk-form-horizontal uk-form">
                <input type="text" name="room_filter[title]" placeholder="{{ 'search-filter-placeholder'|trans({}, "room") }}" style="min-width:225px;">
                <button type="submit" class="uk-button uk-button-primary">{{ 'Room search'|trans({}, "search") }}</button>
            </form>

            <ul class="uk-list">
                <li>
                    <a class="uk-comment-title cs-link-highlight" href="{{ path('app_room_listall', {'roomId': roomItem.itemId}) }}">{{ 'List all rooms'|trans([], 'room') }}</a>
                </li>
                <li>
                    <a class="uk-comment-title cs-link-highlight" href="{{ path('app_room_listall', {'roomId': roomItem.itemId}|merge({'room_filter[membership]': 1})) }}">{{ 'List my rooms'|trans([], 'room') }}</a>
                </li>
                {% if userMayCreateContext and is_granted('ITEM_NEW') %}
                    <li>
                        <a class="uk-comment-title cs-link-highlight" href="{{ path('app_room_create', {'roomId': roomItem.itemId}) }}">{{ 'Create new context'|trans([], 'room') }}</a>
                    </li>
                {% endif %}
            </ul>
        {% endblock %}
    {% endcomponent %}
{% endmacro %}

{% macro dashboardFeed(roomItem) %}
    {% component 'v3:card' with { title: 'latest entries from my rooms'|trans({}, 'room') } %}
        {% block content %}
            <div class="feed">
                <ul id="dashboard-feed" class="uk-list uk-list-striped uk-list-collapse">
                    {{ render(controller(
                        'App\\Controller\\DashboardController::feed',
                        { 'roomId': roomItem.itemId }
                    ))}}
                </ul>
            </div>

            <div class="feed-load-more" uk-scrollspy="{cls: 'uk-animation-fade', repeat: true, topoffset: 0}" data-feed='{"url": "{{ app.request.baseURL }}/dashboard/{{ roomItem.itemId }}/feed/", "target": "#dashboard-feed"}'>
                <i class="uk-icon-refresh uk-icon-spin uk-icon-medium"></i>
            </div>
        {% endblock %}
    {% endcomponent %}
{% endmacro %}

{% macro dashboardCalendar(roomItem, calendars, iCal, contextArray) %}
    {% import 'utils/macros.html.twig' as macros %}

    {% component 'v3:card' with { title: 'calendar'|trans({}, 'date') } %}
        {% block content %}
            {{ render(controller(
            'App\\Controller\\DateController::calendardashboard',
                { 'roomId': roomItem.itemId }
            )) }}
        {% endblock %}
    {% endcomponent %}
{% endmacro %}

{% macro dashboardRss(roomItem) %}
    {% component 'v3:card' with { title: 'rss feeds'|trans({}, 'dashboard') } %}
        {% block content %}
            {{ render(controller(
            'App\\Controller\\DashboardController::rss',
                { 'roomId': roomItem.itemId }
            )) }}
        {% endblock %}
    {% endcomponent %}
{% endmacro %}

{% macro dashboardExternalAccess(roomItem) %}
    {% component 'v3:card' with { title: 'external access'|trans({}, 'dashboard') } %}
        {% block content %}
            {{ render(controller(
            'App\\Controller\\DashboardController::externalaccess',
                { 'roomId': roomItem.itemId }
            )) }}
        {% endblock %}
    {% endcomponent %}
{% endmacro %}

{% macro dashboardMyViews(roomItem) %}
    {% component 'v3:card' with { title: 'my views'|trans({}, 'dashboard') } %}
        {% block content %}
            {{ render(controller(
            'App\\Controller\\DashboardController::myViews',
                { 'roomId': roomItem.itemId }
            )) }}
        {% endblock %}
    {% endcomponent %}
{% endmacro %}
